__d("useGetStableCometRouterDispatcher",["react","useCometRouterDispatcher"],function(e,t,r,i,o,s,a){"use strict";function e(e){e=e.children;var t=u(),r=l(function(){return t.current},[]),i=l(function(e){t.current=e},[]),o=d(function(){return{getCometRouterDispatcher:r}},[r]);return n.jsxs(n.Fragment,{children:[n.jsx(h,{onDispatcherChanged:i}),n.jsx(g.Provider,{value:o,children:e})]})}function t(){var e=c(g);return e=e.getCometRouterDispatcher}var n=i("react"),l=(o=i("react")).useCallback,c=o.useContext,d=o.useMemo,u=o.useRef,g=n.createContext({getCometRouterDispatcher:function(){}}),h=n.memo(function(e){return(e=e.onDispatcherChanged)(r("useCometRouterDispatcher")()),null});e.displayName=e.name+" [from "+s.id+"]",a.CometRouterDispatcherGetterContextProvider=e,a.useGetStableCometRouterDispatcher=t},98),__d("PolarisHighlightsConstants",[],function(e,t,r,i,o,s){"use strict";e=15,t=600,r=445,s.REQUEST_NUM_STORIES=e,s.POST_PICKER_HEIGHT=t,s.POST_PICKER_MAX_WIDTH=r},66),__d("PolarisNewHighlightsStrings",["fbt"],function(e,t,r,i,o,s,a,n){"use strict";e=n._("Stories"),t=n._("Story"),r=n._("New Highlight"),i=n._("Edit Highlight"),o=n._("Highlight Name"),s=n._("Add to your story");var l=n._("Keep your stories in your archive after they disappear, so you can look back on your memories. Only you can see what's in your archive."),c=n._("Plus icon"),d=n._("New"),u=n._("Selected"),g=n._("Select Cover");n=n._("Cover photo for highlight"),a.STORIES_TITLE_TEXT=e,a.STORY_ALT_TEXT=t,a.NEW_HIGHLIGHT_TEXT=r,a.EDIT_HIGHLIGHT_TEXT=i,a.HIGHLIGHT_NAME_TEXT=o,a.NO_ARCHIVES_TITLE_TEXT=s,a.NO_ARCHIVES_BODY_TEXT=l,a.NEW_HIGHLIGHT_BUTTON_ALT_TEXT=c,a.NEW_HIGHLIGHT_BUTTON_TEXT=d,a.SELECTED_TAB_TITLE_TEXT=u,a.NEW_HIGHLIGHT_COVER_TEXT=g,a.HIGHLIGHT_COVER_ALT_TEXT=n},98),__d("usePolarisStoryGridData",["PolarisReactRedux","nullthrows","polarisStorySelectors","polarisUserSelectors"],function(e,t,r,i,o,s,a){"use strict";e=function(){var e=i("PolarisReactRedux").useSelector(function(e){return r("nullthrows")(i("polarisUserSelectors").getViewer(e))}),t=i("PolarisReactRedux").useSelector(function(e){return i("polarisStorySelectors").getUserArchivedStories(e)}).sort(function(e,t){return parseFloat(t.postedAt)-parseFloat(e.postedAt)}),o=i("PolarisReactRedux").useSelector(function(e){return null==(e=e.stories.archiveReelsInfo)?void 0:e.isLoading}),s=i("PolarisReactRedux").useSelector(function(e){return e.stories.loadedStoryArchives});return{user:e,archivedStories:t,isLoading:o,endOfArchives:s,noArchives:0===t.length&&s}},a.usePolarisStoryGridData=e},98),__d("PolarisAddHighlightsPreviewOverlay.react",["fbt","IGDSBox.react","IGDSCheckPanoFilledIcon","react"],function(e,t,r,i,o,s,a,n){"use strict";function e(e){var t=e.isActive;return e=e.isSelected,t=t||e,l.jsx("div",{className:"x1ey2m1c x78zum5 xdt5ytf xl56j7k x17qophe x10l6tqk xds687c x13vifvy"+(t?" xb4gq0b":""),children:l.jsx("div",{className:"x10l6tqk xfg7zyn x7ofzsv x1xp8n7a xmix8c7 x1rmk8rf xhjfva7 x6y76el xmezrkt x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k x6s0dn4"+(e?" x1tu34mt":""),children:l.jsx(r("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",children:e&&l.jsx(r("IGDSCheckPanoFilledIcon"),{alt:n._("Check"),color:"web-always-white",size:13})})})})}var l=i("react");e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisAddHighlightsStoryDateOverlay.react",["PolarisUA","polarisFormatDate","react","stylex"],function(e,t,r,i,o,s,a){"use strict";function e(e){var t=e.hasYearInOverlay,o=e.inArchivePage;return e=e.postedAt,n.jsxs("div",{className:r("stylex")(l.dateBlock,!0===o?i("PolarisUA").isMobile()?l.archivesMarginMobile:l.archivesMarginDesktop:l.modalMargin),children:[n.jsx("div",{className:"x117nqv4",children:r("polarisFormatDate")(e,"j")}),n.jsx("div",{className:"x1198e8h",children:r("polarisFormatDate")(e,"M")}),t&&n.jsx("div",{className:"x1198e8h x1pg5gke",children:r("polarisFormatDate")(e,"Y")})]})}var n=i("react"),l={dateBlock:{position:"x10l6tqk",paddingTop:"x1nn3v0j",paddingEnd:"xg83lxy",paddingBottom:"x1120s5i",paddingStart:"x1h0ha7o",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",top:"x13vifvy",backgroundColor:"xz3rzyy",color:"x175jnsf",pointerEvents:"x47corl",userSelect:"x87ps6o",textAlign:"x2b8uid",width:"x1npj6m0",$$css:!0},dateText:{fontWeight:"x117nqv4",$$css:!0},monthText:{marginTop:"x1198e8h",$$css:!0},yearText:{marginTop:"x1198e8h",fontSize:"x1pg5gke",$$css:!0},archivesMarginDesktop:{marginTop:"xqui205",marginStart:"x17adc0v",$$css:!0},archivesMarginMobile:{marginTop:"x1xmf6yo",marginStart:"xnfveip",$$css:!0},modalMargin:{marginStart:"x1i64zmx",marginTop:"x1xmf6yo",$$css:!0}};e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisAddHighlightsStoryPreview.react",["IGDSBox.react","IGDSSpinner.react","PolarisAddHighlightsPreviewOverlay.react","PolarisAddHighlightsStoryDateOverlay.react","PolarisAspectRatio.react","PolarisDateHelpers","PolarisIGCorePressable","react"],function(e,t,r,i,o,s,a){"use strict";function n(e,t,r,o){return!e&&(0===t||i("PolarisDateHelpers").dateTypeToString(i("PolarisDateHelpers").pyTimestampToDateType(r))!==i("PolarisDateHelpers").dateTypeToString(i("PolarisDateHelpers").pyTimestampToDateType(Number(o))))}function l(e,t,r,o){return!e&&(0===t||i("PolarisDateHelpers").dateTypeToString(i("PolarisDateHelpers").pyTimestampToDateType(Number(r))).split("-")[0]!==i("PolarisDateHelpers").dateTypeToString(i("PolarisDateHelpers").pyTimestampToDateType(Number(o))).split("-")[0])}function e(e){var t=e.index,i=e.isEditing,o=e.isLoading,s=e.posts,a=e.selectedStoryIds;e=e.updateSelectedStoryIds;var u=t===s.length;return!0===u&&!0===o?d.jsx(r("IGDSBox.react"),{alignItems:"center",display:"flex",marginBottom:4,marginTop:8,minWidth:"100%",position:"relative",children:d.jsx(r("IGDSSpinner.react"),{size:"medium"})},t):(u=s[t],t=!!(o=n(i,t,null!=(o=null==(o=s[t])?void 0:o.postedAt)?o:0,null!=(o=null==(o=s[t-1])?void 0:o.postedAt)?o:0))&&l(i,t,null!=(i=null==(i=s[t])?void 0:i.postedAt)?i:0,null!=(s=null==(i=s[t-1])?void 0:i.postedAt)?s:0),d.jsx(r("IGDSBox.react"),{height:"auto",maxWidth:"calc(100%/"+h+")",minWidth:"calc(100%/"+h+")",position:"relative",children:d.jsx("div",{className:"x1m6msm x1j85h84",children:d.jsx(c,{hasDateOverlay:o,hasYearInOverlay:t,post:u,selectedStoryIds:a,updateSelectedStoryIds:e})})},u.id))}function t(e){return d.jsx(r("IGDSBox.react"),{height:S,padding:12,position:"relative",width:S},e)}function c(e){var t=e.hasDateOverlay,i=e.hasYearInOverlay,o=e.post,s=e.selectedStoryIds,a=e.updateSelectedStoryIds;e=o.thumbnailSrc;var n=u(!1),l=n[0],c=n[1];return d.jsxs(r("PolarisIGCorePressable"),{className:"x1ypdohk x1a2a7pz x5yr21d",onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},onPress:function(){return a(o.id)},children:[null!=e?d.jsx(r("PolarisAspectRatio.react"),{aspectRatio:g,className:"x18d0r48 x1lvsgvq x47corl x87ps6o",style:{backgroundImage:"url("+e+")"}}):null,d.jsx(r("PolarisAddHighlightsPreviewOverlay.react"),{isActive:l,isSelected:s.includes(o.id)}),t&&d.jsx(r("PolarisAddHighlightsStoryDateOverlay.react"),{hasYearInOverlay:i,postedAt:Number(o.postedAt)})]})}var d=i("react"),u=i("react").useState,g=9/16,h=3,S=134;e.displayName=e.name+" [from "+s.id+"]",t.displayName=t.name+" [from "+s.id+"]",c.displayName=c.name+" [from "+s.id+"]",a.hasDateOverlay=n,a.hasYearInOverlay=l,a.renderAddHighlightsStoryPreview=e,a.renderAddHighlightsPlaceholder=t},98),__d("PolarisAddHighlightsCover.react",["IGCoreDialog","IGCoreModal","IGDSBox.react","PolarisAddHighlightsStoryPreview.react","PolarisGenericStrings","PolarisHighlightsConstants","PolarisIGCoreModalHeader","PolarisIGTheme.react","PolarisIGVirtualGrid.react","PolarisNewHighlightsStrings","PolarisReactRedux","nullthrows","polarisStorySelectors","polarisUserSelectors","react"],function(e,t,r,i,o,s,a){"use strict";function e(e){var t=e.editing;t=void 0!==t&&t;var o=e.highlightThumbnailUrl,s=e.onBack,a=e.onClose,c=e.onDone,d=e.requestInFlight,u=e.selectedStoryIds,g=r("nullthrows")(i("PolarisReactRedux").useSelector(function(e){return i("polarisUserSelectors").getViewer(e)})),h=i("PolarisReactRedux").useSelector(function(e){return i("polarisStorySelectors").getStoriesbyUser(e,g).filter(function(e){return u.includes(e.id)})}).sort(function(e,t){return parseFloat(t.postedAt)-parseFloat(e.postedAt)}),S=(e=l(t&&null!=o?null:h[0]))[0],x=e[1],P=function(e){(null==S||(null==S?void 0:S.id)!==e)&&x(h.filter(function(t){return t.id===e})[0])};return e=(t=i("PolarisIGTheme.react").useTheme()).getTheme()===i("PolarisIGTheme.react").IGTheme.Dark,n.jsxs(r("IGCoreModal"),{"aria-label":i("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_COVER_TEXT,fixedWidth:!1,onClose:a,children:[n.jsx(r("PolarisIGCoreModalHeader"),{onBack:s,onClose:a,children:n.jsx(r("IGDSBox.react"),{padding:4,position:"relative",children:i("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_COVER_TEXT})}),n.jsxs(r("IGDSBox.react"),{flex:"shrink",maxHeight:i("PolarisHighlightsConstants").POST_PICKER_HEIGHT,maxWidth:i("PolarisHighlightsConstants").POST_PICKER_MAX_WIDTH,minWidth:i("PolarisHighlightsConstants").POST_PICKER_MAX_WIDTH,overflow:"auto",position:"relative",children:[n.jsxs(r("IGDSBox.react"),{height:i("PolarisHighlightsConstants").POST_PICKER_HEIGHT/10*6.6,position:"relative",children:[n.jsx("div",{className:"x6ikm8r x10wlt62 x5yr21d xh8yej3 x10l6tqk",children:n.jsx("div",{className:"x5yr21d xh8yej3 x1lvsgvq xtea3wc x18d0r48",style:{backgroundImage:"\n                linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),\n                url("+(null!=(s=null!=(t=null==S?void 0:S.thumbnailSrc)?t:o)?s:"")+")\n              "}})}),n.jsx("div",{className:"x1swvt13 x1pi30zi x6ikm8r x10wlt62",children:n.jsx(r("IGDSBox.react"),{height:i("PolarisHighlightsConstants").POST_PICKER_HEIGHT/10*6.6,position:"relative",children:n.jsxs("div",{className:"x6ikm8r x10wlt62 x78zum5 xl56j7k x5yr21d",children:[n.jsx("img",{alt:i("PolarisNewHighlightsStrings").HIGHLIGHT_COVER_ALT_TEXT,className:"xl1xv1r xh8yej3 x5yr21d",src:null!=(a=null==S?void 0:S.thumbnailSrc)?a:o}),n.jsx("div",{className:"x10l6tqk x132ws97 x76zr16 x1gryazu xkrivgy x17qophe xds687c x78zum5 xamitd3 x14yjl9h xudhj91 x18nykt9 xww2gxu"+(e?" xy29bcn":" xp047v6")})]})})})]}),n.jsx(r("PolarisIGVirtualGrid.react"),{containerSize:i("PolarisHighlightsConstants").POST_PICKER_HEIGHT/10*3.4,itemCount:u.length,itemsPerRow:3,onScroll:function(){},renderer:function(e){return e=e.index,i("PolarisAddHighlightsStoryPreview.react").renderAddHighlightsStoryPreview({isEditing:!0,index:e,posts:h,selectedStoryIds:null!=S?[S.id]:[],updateSelectedStoryIds:P,isLoading:!1})},rendererPlaceholder:i("PolarisAddHighlightsStoryPreview.react").renderAddHighlightsPlaceholder,rowClassName:"x39eecv"})]}),n.jsx(i("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",loading:d,onClick:function(){return c(null==S?void 0:S.id)},children:i("PolarisGenericStrings").DONE_TEXT})]})}var n=i("react"),l=i("react").useState;e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisAddHighlightsStoryPicker.react",["IGDSBox.react","IGDSSpinner.react","PolarisAddHighlightsStoryPreview.react","PolarisHighlightsConstants","PolarisIGVirtualGrid.react","PolarisReactRedux","PolarisStoryActions","polarisStorySelectors","react","usePolarisStoryGridData","useWindowSize"],function(e,t,r,i,o,s,a){"use strict";function e(e){var t=e.editing,o=void 0!==t&&t,s=e.existingSelectedStories,a=e.selectedStoryIds,g=e.updateSelectedStoryIds,h=i("PolarisReactRedux").useDispatch(),S=(t=i("usePolarisStoryGridData").usePolarisStoryGridData()).archivedStories,x=t.endOfArchives,P=t.isLoading,m=t.user,p=i("PolarisReactRedux").useSelector(function(e){return i("polarisStorySelectors").getStoriesbyUser(e,m).filter(function(e){var t;return(null!=(t=s)?t:[]).includes(e.id)})}).sort(function(e,t){return parseFloat(t.postedAt)-parseFloat(e.postedAt)}),I=l(function(){return i("PolarisStoryActions").requestArchivedStories(i("PolarisHighlightsConstants").REQUEST_NUM_STORIES)},[]);e=function(e){!0!==P&&e.numScreensFromEnd<u&&e.numScreensFromStart>0&&!x&&h(I())},c(function(){h(I())},[h,I]),t=S.length>0;var f=!0===P?1:0,y=r("useWindowSize")();return y=y.innerHeight,y=Math.min(y-150,i("PolarisHighlightsConstants").POST_PICKER_HEIGHT),n.jsx(n.Fragment,{children:t?n.jsx(r("IGDSBox.react"),{position:"relative",children:n.jsx(r("PolarisIGVirtualGrid.react"),{containerSize:y,itemCount:o?p.length+f:S.length+f,itemsPerRow:d,onScroll:o?function(){}:e,renderer:function(e){return e=e.index,i("PolarisAddHighlightsStoryPreview.react").renderAddHighlightsStoryPreview({isEditing:o,index:e,posts:o?p:S,selectedStoryIds:a,updateSelectedStoryIds:g,isLoading:P})},rowClassName:"x1a02dak x39eecv"})}):n.jsx(r("IGDSBox.react"),{alignItems:"center",height:i("PolarisHighlightsConstants").POST_PICKER_HEIGHT,marginTop:4,position:"relative",children:n.jsx(r("IGDSSpinner.react"),{size:"medium"})})})}var n=i("react"),l=(t=i("react")).useCallback,c=t.useEffect,d=3,u=.1;e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisEditHighlightsStoryPickerTabs.react",["IGDSText.react","PolarisAddHighlightsStoryPicker.react","PolarisIGCoreTabV2","PolarisIGCoreTabsV2","PolarisNewHighlightsStrings","react"],function(e,t,r,i,o,s,a){"use strict";function e(e){e.currentHighlightStoryIds;var t=e.selectedTabStoryIds,o=e.storiesTabStoryIds;return e=e.updateSelectedStoryIds,n.jsxs(r("PolarisIGCoreTabsV2"),{children:[n.jsx(r("PolarisIGCoreTabV2"),{node:n.jsx(r("PolarisAddHighlightsStoryPicker.react"),{editing:!0,existingSelectedStories:t,selectedStoryIds:o,updateSelectedStoryIds:e}),children:n.jsx(r("IGDSText.react").Section,{color:"primaryText",children:i("PolarisNewHighlightsStrings").SELECTED_TAB_TITLE_TEXT})}),n.jsx(r("PolarisIGCoreTabV2"),{node:n.jsx(r("PolarisAddHighlightsStoryPicker.react"),{editing:!1,selectedStoryIds:o,updateSelectedStoryIds:e}),children:n.jsx(r("IGDSText.react").Section,{color:"primaryText",children:i("PolarisNewHighlightsStrings").STORIES_TITLE_TEXT})})]})}var n=i("react");e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisAddHighlightsModal.react",["IGCoreDialog","IGCoreModal","IGDSBox.react","PolarisAddHighlightsStoryPicker.react","PolarisEditHighlightsStoryPickerTabs.react","PolarisGenericStrings","PolarisHighlightsConstants","PolarisIGCoreModalHeader","PolarisNewHighlightsStrings","react"],function(e,t,r,i,o,s,a){"use strict";function e(e){var t=e.allowEmptySelection;t=void 0===t||t;var o=e.disablePopInAnimation,s=e.editing;s=void 0!==s&&s;var a=e.onBack,c=e.onClose,d=e.onDone,u=e.onUpdateStoryIds,g=e.requestInFlight;e=e.currentHighlightStoryIds;var h=l(e=void 0===e?[]:e),S=h[0],x=h[1];return h=function(e){S.includes(e)||x(function(t){return[].concat(t,[e])}),u(e)},t=0===e.length&&!t||g,n.jsxs(r("IGCoreModal"),{"aria-label":i("PolarisNewHighlightsStrings").STORIES_TITLE_TEXT,disablePopInAnimation:o,fixedWidth:!1,onClose:c,children:[n.jsx(r("PolarisIGCoreModalHeader"),{onBack:a,onClose:c,children:n.jsx(r("IGDSBox.react"),{padding:4,position:"relative",children:i("PolarisNewHighlightsStrings").STORIES_TITLE_TEXT})}),n.jsxs(r("IGDSBox.react"),{flex:"shrink",maxHeight:s?i("PolarisHighlightsConstants").POST_PICKER_HEIGHT+41:i("PolarisHighlightsConstants").POST_PICKER_HEIGHT,maxWidth:i("PolarisHighlightsConstants").POST_PICKER_MAX_WIDTH,minWidth:i("PolarisHighlightsConstants").POST_PICKER_MAX_WIDTH,overflow:"auto",position:"relative",children:[s&&n.jsx(r("PolarisEditHighlightsStoryPickerTabs.react"),{currentHighlightStoryIds:e,selectedTabStoryIds:S,storiesTabStoryIds:e,updateSelectedStoryIds:h}),!s&&n.jsx(r("PolarisAddHighlightsStoryPicker.react"),{editing:s,selectedStoryIds:e,updateSelectedStoryIds:h})]}),n.jsx(i("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",disabled:t,loading:g,onClick:function(){return d()},children:i("PolarisGenericStrings").NEXT})]})}var n=i("react"),l=i("react").useState;e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisNewHighlightsModal.react",["IGCoreDialog","IGCoreModal","IGDSBox.react","IGDSSpinner.react","IGDSText.react","PolarisIGCoreModalHeader","PolarisIGCoreTextInput","PolarisIGCoreThumbnail","PolarisNewHighlightsStrings","isStringNullOrWhitespaceOnly","react"],function(e,t,r,i,o,s,a){"use strict";function e(e){var t=e.actionText,o=e.editing,s=e.errorMessage,a=e.highlightName,c=e.onActionClick,d=e.onClose,u=e.onUpdateHighlightsName,g=e.requestInFlight;e=e.thumbnailSrc;var h=r("isStringNullOrWhitespaceOnly")(a);return n.jsxs(r("IGCoreModal"),{"aria-label":o?i("PolarisNewHighlightsStrings").EDIT_HIGHLIGHT_TEXT:i("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_TEXT,onClose:d,children:[n.jsx(r("PolarisIGCoreModalHeader"),{onClose:d,children:n.jsx(r("IGDSBox.react"),{padding:4,position:"relative",children:o?i("PolarisNewHighlightsStrings").EDIT_HIGHLIGHT_TEXT:i("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_TEXT})}),n.jsxs(r("IGDSBox.react"),{margin:5,position:"relative",children:[null!=e&&n.jsx(r("IGDSBox.react"),{alignItems:"center",marginBottom:4,position:"relative",width:"100%",children:n.jsx(r("PolarisIGCoreThumbnail"),{alt:i("PolarisNewHighlightsStrings").STORY_ALT_TEXT,dimension:l,shape:"rounded",src:e})}),n.jsx(r("PolarisIGCoreTextInput"),{autoComplete:"off",autoFocus:!0,name:"highlightName",onChange:function(e){u(e.target.value)},placeholder:i("PolarisNewHighlightsStrings").HIGHLIGHT_NAME_TEXT,value:a}),null!=s&&""!==s.toString()&&n.jsx(r("IGDSBox.react"),{marginBottom:2,marginTop:1,position:"relative",children:n.jsx(r("IGDSText.react").Footnote,{color:"errorOrDestructive",children:s})})]}),n.jsx(i("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",disabled:h,onClick:c,children:!0===g?n.jsx(r("IGDSBox.react"),{alignItems:"center",position:"relative",children:n.jsx(r("IGDSSpinner.react"),{size:"small"})}):t})]})}var n=i("react"),l=100;e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisCreateAndAddHighlightsModal.react",["$InternalEnum","PolarisAddHighlightsCover.react","PolarisAddHighlightsModal.react","PolarisGenericStrings","PolarisNewHighlightsModal.react","PolarisReactRedux","PolarisStoryActions","react"],function(e,t,r,i,o,s,a){"use strict";function e(e){var t=e.currentHighlightStoryIds,o=e.editing;o=void 0!==o&&o;var s=e.highlightId,a=e.highlightName,d=e.highlightThumbnailUrl,u=e.onClose,g=e.user,h=i("PolarisReactRedux").useDispatch(),S=(a=l(null!=(e=a)?e:""))[0],x=a[1];a=(e=l(!1))[0];var P=e[1],m=(e=l(null!=(e=t)?e:[]))[0],p=e[1];e=function(e){x(e)};var I=function(e){m.includes(e)?p(function(t){return[].concat(t).filter(function(t){return t!==e})}):p(function(t){return[].concat(t,[e])})},f=l(c.Name),y=f[0],v=f[1];f=function(){v(c.Stories)};var C=function(){v(c.Cover)},_=function(e){P(!0),h(i("PolarisStoryActions").addNewHighlight(m,g.id,S,null!=(e=e)?e:m[0])),u()},T=function(e){var r;P(!0),h(i("PolarisStoryActions").editHighlightAction(m,null!=(r=t)?r:[],null!=(r=s)?r:"",g.id,S,e)),u()};return y===c.Name?n.jsx(r("PolarisNewHighlightsModal.react"),{actionText:i("PolarisGenericStrings").NEXT,editing:o,highlightName:S,onActionClick:f,onClose:u,onUpdateHighlightsName:e}):y===c.Stories?n.jsx(r("PolarisAddHighlightsModal.react"),{allowEmptySelection:!1,currentHighlightStoryIds:m,disablePopInAnimation:!0,editing:o,onBack:function(){return v(c.Name)},onClose:u,onDone:C,onUpdateStoryIds:I,requestInFlight:a}):y===c.Cover?n.jsx(r("PolarisAddHighlightsCover.react"),{editing:o,highlightThumbnailUrl:d,onBack:function(){return v(c.Stories)},onClose:u,onDone:o?T:_,requestInFlight:a,selectedStoryIds:m}):void 0}var n=i("react"),l=i("react").useState,c=t("$InternalEnum").Mirrored(["Name","Stories","Cover"]);e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisHasAddHighlightEnabled",["PolarisConfig","PolarisUA"],function(e,t,r,i,o,s,a){"use strict";function e(){return i("PolarisUA").isDesktop()&&i("PolarisConfig").isLoggedIn()}a.hasAddHighlightEnabled=e},98),__d("PolarisProfileStoryHighlightsTrayItem.react",["fbt","IGDSAddOutline24Icon","IGDSCheckPanoFilledIcon","IGDSText.react","PolarisAvatarWithStoriesContainer.react","PolarisIGCorePressable","PolarisIGCoreText","PolarisNewHighlightsStrings","PolarisStoryRing.react","react"],function(e,t,r,i,o,s,a,n){"use strict";function l(){return"ProfileStoryHighlightsTrayItem"+u++}function c(e){var t=e.highlightLabel;return(e=e.isSmallScreen)?d.jsx(r("PolarisIGCoreText").Body2,{display:"truncated",zeroMargin:!0,children:t}):d.jsx(r("IGDSText.react").Body2Emphasized,{maxLines:1,zeroMargin:!0,children:t})}function e(e){var t,o=e.addNewHighlight,s=e.avatarSize,a=e.hasOverlay,u=e.isSmallScreen,g=e.onClick,h=e.reel,S=l();e=function(){var e;g(null!=(e=null==h?void 0:h.id)?e:"",S)};var x={width:s,height:s};return t=null!=(t=null==h?void 0:h.title)?t:i("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_BUTTON_TEXT,t=d.jsx(c,{highlightLabel:t,isSmallScreen:u}),d.jsxs(r("PolarisIGCorePressable"),{className:"x6s0dn4 x78zum5 xdt5ytf x9f619 x1jo5dny x5zefxq x1u2d83q x1lvagci x11853ko xwzhuwn x19xppfw x1lvlso5 x1hqdklf x4js05n xm4az7",onPress:e,role:"menuitem",children:[null!=h&&d.jsx(r("PolarisAvatarWithStoriesContainer.react"),{canTabFocus:!1,clickTargetElementId:S,entrypoint:"reel_profile_highlights",highlightReelId:h.highlightReelId,size:s,children:d.jsxs("div",{className:"xnz67gz x14yjl9h xudhj91 x18nykt9 xww2gxu x6ikm8r x10wlt62 x1n2onr6 x1lliihq",style:x,children:[!0===a&&d.jsx("div",{className:"x10l6tqk x5yr21d xh8yej3 x1t43zwg x78zum5 xl56j7k x6s0dn4",children:d.jsx(r("IGDSCheckPanoFilledIcon"),{alt:n._("Check"),color:"ig-primary-background"})}),d.jsx("img",{alt:n._("{username}'s profile picture",[n._param("username",h.title)]),className:"x6umtig x1b1mbwd xaqea5y xav7gou xk390pu x5yr21d xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x11njtxf xh8yej3","data-testid":void 0,src:h.thumbnailUrl})]})}),!0===o&&d.jsxs("div",{className:"xamitd3 x1lliihq x1n2onr6 x87ps6o x1ypdohk",children:[d.jsx(r("PolarisStoryRing.react"),{isCenterOnAvatar:!0,seen:!0,showRing:!0,size:s}),d.jsx("div",{className:"xnz67gz x14yjl9h xudhj91 x18nykt9 xww2gxu x6ikm8r x10wlt62 x1n2onr6 x78zum5 xl56j7k x6s0dn4",style:x,children:d.jsx(r("IGDSAddOutline24Icon"),{alt:i("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_BUTTON_ALT_TEXT,color:"ig-tertiary-icon",size:u?30:44})})]}),d.jsx("div",{className:"x1ypdohk x2b8uid xh8yej3 xpzf5u2 x1ldzjpm",children:t})]})}var d=i("react"),u=0;c.displayName=c.name+" [from "+s.id+"]",e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisUserAvatarWithStoriesPlaceholder.react",["cx","PolarisStoryRing.react","joinClasses","react"],function(e,t,r,i,o,s,a){"use strict";function e(e){var t=e.className,i=e.hideAvatarBorder;return e=e.size,n.jsxs("div",{className:r("joinClasses")("_acop",t),children:[n.jsx(r("PolarisStoryRing.react"),{className:"_acoq",isLoading:!1,seen:!0,showRing:!1,size:e}),n.jsx("div",{className:"_acor"+(i?"":" _acos"),style:{height:e,width:e}})]})}var n=i("react");e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisProfileStoryHighlightsTrayItemPlaceholder.react",["cx","PolarisUserAvatarWithStoriesPlaceholder.react","react"],function(e,t,r,i,o,s,a){"use strict";function e(e){return e=e.avatarSize,n.jsxs("div",{className:"_aa-u",children:[n.jsx(r("PolarisUserAvatarWithStoriesPlaceholder.react"),{className:"_aa-v",size:e}),n.jsx("div",{className:"_aa-w"})]})}var n=i("react");e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisProfileStoryLoggedOutHighlightsTrayItem.react",["fbt","IGDSAddOutline24Icon","IGDSCheckPanoFilledIcon","IGDSText.react","PolarisAvatarWithStoriesContainer.react","PolarisIGCorePressable","PolarisIGCoreText","PolarisNewHighlightsStrings","PolarisReactRedux","PolarisStoryRing.react","polarisStorySelectors","qex","react"],function(e,t,r,i,o,s,a,n){"use strict";function l(){return"ProfileStoryHighlightsTrayItem"+u++}function c(e){var t=e.highlightLabel;return(e=e.isSmallScreen)?d.jsx(r("PolarisIGCoreText").Body2,{display:"truncated",zeroMargin:!0,children:t}):d.jsx(r("IGDSText.react").Body2Emphasized,{maxLines:1,zeroMargin:!0,children:t})}function e(e){var t,o=e.addNewHighlight,s=e.avatarSize,a=e.hasOverlay,u=e.isSmallScreen,g=e.onClick,h=e.reel,S=l();e=function(){var e;g(null!=(e=null==h?void 0:h.id)?e:"",S)};var x={width:s,height:s};t=null!=(t=null==h?void 0:h.title)?t:i("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_BUTTON_TEXT,t=d.jsx(c,{highlightLabel:t,isSmallScreen:u});var P=i("PolarisReactRedux").useSelector(function(e){return i("polarisStorySelectors").getFitGreenHighlightReels(e)}),m=2===r("qex")._("862"),p=P.includes(null==h?void 0:h.id)&&m;return P=!P.includes(null==h?void 0:h.id)&&m,d.jsxs(r("PolarisIGCorePressable"),{className:"x6s0dn4 x78zum5 xdt5ytf x9f619 x1jo5dny x5zefxq x1u2d83q x1lvagci x11853ko xwzhuwn x19xppfw x1lvlso5 x1hqdklf x4js05n xm4az7",onPress:e,role:"menuitem",children:[null!=h&&d.jsxs(r("PolarisAvatarWithStoriesContainer.react"),{canTabFocus:!1,clickTargetElementId:S,entrypoint:"reel_profile_highlights",highlightReelId:h.highlightReelId,size:s,children:[p&&d.jsx(r("PolarisStoryRing.react"),{isCenterOnAvatar:!0,showRing:!0,size:s}),d.jsxs("div",{className:"xnz67gz x14yjl9h xudhj91 x18nykt9 xww2gxu x6ikm8r x10wlt62 x1n2onr6 x1lliihq",style:x,children:[!0===a&&d.jsx("div",{className:"x10l6tqk x5yr21d xh8yej3 x1t43zwg x78zum5 xl56j7k x6s0dn4",children:d.jsx(r("IGDSCheckPanoFilledIcon"),{alt:n._("Check"),color:"ig-primary-background"})}),d.jsx("img",{alt:n._("{username}'s profile picture",[n._param("username",h.title)]),className:"x6umtig x1b1mbwd xaqea5y xav7gou xk390pu x5yr21d xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x11njtxf xh8yej3"+(P?" xqzmdpo":""),src:h.thumbnailUrl})]})]}),!0===o&&d.jsxs("div",{className:"xamitd3 x1lliihq x1n2onr6 x87ps6o x1ypdohk",children:[d.jsx(r("PolarisStoryRing.react"),{isCenterOnAvatar:!0,seen:!0,showRing:!0,size:s}),d.jsx("div",{className:"xnz67gz x14yjl9h xudhj91 x18nykt9 xww2gxu x6ikm8r x10wlt62 x1n2onr6 x78zum5 xl56j7k x6s0dn4",style:x,children:d.jsx(r("IGDSAddOutline24Icon"),{alt:i("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_BUTTON_ALT_TEXT,color:"ig-tertiary-icon",size:u?30:44})})]}),d.jsx("div",{className:"x1ypdohk x2b8uid xh8yej3 xpzf5u2 x1ldzjpm"+(P?" xqzmdpo":""),children:t})]})}var d=i("react");i("react").useMemo;var u=0;c.displayName=c.name+" [from "+s.id+"]",e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisProfileStoryHighlightsTray.react",["cx","IGDSBox.react","PolarisConfig","PolarisCreateAndAddHighlightsModal.react","PolarisHasAddHighlightEnabled","PolarisLinkBuilder","PolarisLogger","PolarisProfileQEHelpers","PolarisProfileStoryHighlightsTrayItem.react","PolarisProfileStoryHighlightsTrayItemPlaceholder.react","PolarisProfileStoryLoggedOutHighlightsTrayItem.react","PolarisReactRedux","PolarisStoryActions","PolarisVirtualHSnapScroll.react","browserHistory","immutable-4.0.0-rc.9","nullthrows","polarisStorySelectors","polarisUserSelectors","react","shouldDisplayLoggedOutHighlights"],function(e,t,r,i,o,s,a,n){"use strict";function e(e){var t=e.highlightReelCount,o=e.highlightReelIdsWithOverlay,s=e.isSmallScreen,a=e.onClick,n=e.onLoadReel,P=e.reels,m=e.storyEntrypoint,p=e.user,I=e.userFollowerCount,f=e.userId,y=e.viewer,v=(e=d(!1))[0],C=e[1];e=!0!==m&&i("PolarisProfileQEHelpers").hasCondensedStoryTrayOnDesktop();var _=function(e){i("browserHistory").browserHistory.push(i("PolarisLinkBuilder").buildHighlightStoryLink(e))},T=function(){i("PolarisLogger").logAction("addHighlightIconClick"),C(!0)},E=e?8:7,R=s?u:e?h:g;e=c(function(){return Array.from({length:Math.min(t,E)},function(e,t){return l.jsx(r("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",width:R.cardWidth+R.gapWidth/2,children:l.jsx(r("PolarisProfileStoryHighlightsTrayItemPlaceholder.react"),{avatarSize:s?S:x},t)},t)})},[E,t,s,R.cardWidth,R.gapWidth]);var b=c(function(){var e=function(e,t){var o;!0===m?null!=(o=(o=[].concat(Array.from(null!=(o=P)?o:[]))).find(function(t){return t.id===e}))&&a(o):y||r("shouldDisplayLoggedOutHighlights")(I)?n(i("immutable-4.0.0-rc.9").Seq.Indexed(r("nullthrows")(P)),e,t,function(){return _(e)}):_(e)};return null!=P?P.map(function(t){var a;return l.jsx(r("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",width:R.cardWidth+R.gapWidth/2,children:i("PolarisConfig").isLoggedIn()?l.jsx(r("PolarisProfileStoryHighlightsTrayItem.react"),{avatarSize:s?S:x,hasOverlay:null!=(a=null==o?void 0:o.includes(t.id))&&a,isSmallScreen:s,onClick:e,reel:t}):l.jsx(r("PolarisProfileStoryLoggedOutHighlightsTrayItem.react"),{avatarSize:s?S:x,hasOverlay:null!=(a=null==o?void 0:o.includes(t.id))&&a,isSmallScreen:s,onClick:e,reel:t})},t.id)}).toArray():[]},[o,s,a,n,P,R.cardWidth,R.gapWidth,m,I,y]),G=function(){return l.jsx(r("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",width:R.cardWidth+R.gapWidth/2,children:l.jsx(r("PolarisProfileStoryHighlightsTrayItem.react"),{addNewHighlight:!0,avatarSize:s?S:x,isSmallScreen:s,onClick:T})},"newHighlight")},w=null!=P;return f=f===(null==y?void 0:y.id),l.jsxs("div",{className:!0!==m?"_ab05":"x1phlbz0","data-testid":void 0,role:"menu",children:[!0===m&&l.jsx("div",{className:"x78zum5 x1a02dak",children:null==P?e:b}),null==m&&l.jsx(r("PolarisVirtualHSnapScroll.react"),{gutterWidth:R.gutterWidth,itemWidth:R.cardWidth+R.gutterWidth/2,overscan:7,pagerDisabled:s||!w,children:null==P?f&&i("PolarisHasAddHighlightEnabled").hasAddHighlightEnabled()?e.concat(G()):e:f&&i("PolarisHasAddHighlightEnabled").hasAddHighlightEnabled()?b.concat(G()):b},w?"highlights":"placeholder"),v&&l.jsx(r("PolarisCreateAndAddHighlightsModal.react"),{onClose:function(){return C(!1)},user:p})]})}function t(e,t){var o=i("polarisStorySelectors").getHighlightReelsByUserId(e,t.userId),s=r("nullthrows")(e.users.users.get(t.userId)).highlightReelCount;return{highlightReelCount:null==s?0:s,reels:o,userFollowerCount:null==(t=(e=i("polarisUserSelectors").getUserById(e,t.userId)).counts)?void 0:t.followedBy}}function o(e){return{onLoadReel:function(t,r,o,s){e(i("PolarisStoryActions").openReelsMedia(t,"reel_profile_highlights",r,o,void 0,!0,s))}}}var l=i("react"),c=(n=i("react")).useMemo,d=n.useState,u={cardWidth:70,gapWidth:5,gutterWidth:0},g={cardWidth:120,gapWidth:10,gutterWidth:24},h={cardWidth:115,gapWidth:10,gutterWidth:0},S=56,x=77;e.displayName=e.name+" [from "+s.id+"]",n=i("PolarisReactRedux").connect(t,o)(e),a["default"]=n},98),__d("PolarisFollowListActionConstants",[],function(e,t,r,i,o,s){"use strict";e=12,s.PAGE_SIZE=e},66),__d("polarisFollowListSelectors",["PolarisPaginationUtils"],function(e,t,r,i,o,s,a){"use strict";function n(e,t,r){return null==(e=e.followLists.get(t))?void 0:e[r]}function l(e,t,r){return null==(e=n(e,t,r))?void 0:e.pagination}function e(e,t,r){return i("PolarisPaginationUtils").getEndCursor(null!=(e=l(e,t,r))?e:void 0)}a.getFollowListPagination=l,a.getFollowListPaginationCursor=e},98),__d("PolarisFollowListActions",["PolarisFollowListActionConstants","PolarisInstapi","PolarisMonitorErrors","PolarisPaginationUtils","PolarisRelationshipActionGetRelationshipInfoForUserIds","asyncToGeneratorRuntime","polarisFollowListSelectors"],function(e,t,r,i,o,s,a){"use strict";function e(e,t,r,o){return void 0===o&&(o=!1),function(r,s){var a;a="admins"===t?"groupAdmins":"followers"===t?o?"inboundMutual":"inbound":"outbound",null==(s=i("polarisFollowListSelectors").getFollowListPagination(s(),e,a))&&(["followers","members"].includes(t)?r(o?d(e):n(e)):r("admins"===t?l(e):u(e)))}}function r(e,t,r){return void 0===r&&(r=!1),"admins"===t?l(e):"followers"===t?r?d(e):n(e):u(e)}function n(e,r){return void 0===r&&(r=i("PolarisFollowListActionConstants").PAGE_SIZE),o=t("asyncToGeneratorRuntime").asyncToGenerator(function*(t,o){t({type:"FOLLOW_LIST_FOLLOWERS_REQUEST",userId:e}),o=i("polarisFollowListSelectors").getFollowListPaginationCursor(o(),e,"inbound");try{var s;s=(null!=(s=(o=(o=yield i("PolarisInstapi").apiGet("/api/v1/friendships/{user_id}/followers/",{path:{user_id:e},query:{count:r,max_id:null!=(o=o)?o:void 0,search_surface:g}})).data).users)?s:[]).map(function(e){return String(e.pk)}),yield t(i("PolarisRelationshipActionGetRelationshipInfoForUserIds").getRelationshipInfoForUserIds(s)),t({response:o,type:"FOLLOW_LIST_FOLLOWERS_SUCCESS",userId:e})}catch(e){i("PolarisMonitorErrors").logError(e)}}),function(){return o.apply(this,arguments)};var o}function l(e,r){return void 0===r&&(r=i("PolarisFollowListActionConstants").PAGE_SIZE),o=t("asyncToGeneratorRuntime").asyncToGenerator(function*(t,o){t({
type:"FOLLOW_LIST_ADMINS_REQUEST",userId:e}),o=i("polarisFollowListSelectors").getFollowListPaginationCursor(o(),e,"groupAdmins");try{var s;s=(null!=(s=(o=(o=yield i("PolarisInstapi").apiGet("/api/v1/friendships/{group_id}/group_admins/",{path:{group_id:e},query:{count:r,max_id:null!=(o=o)?o:void 0}})).data).users)?s:[]).map(function(e){return String(e.pk)}),yield t(i("PolarisRelationshipActionGetRelationshipInfoForUserIds").getRelationshipInfoForUserIds(s)),t({response:o,type:"FOLLOW_LIST_ADMINS_SUCCESS",userId:e})}catch(e){i("PolarisMonitorErrors").logError(e)}}),function(){return o.apply(this,arguments)};var o}function c(e,r){return void 0===r&&(r=i("PolarisFollowListActionConstants").PAGE_SIZE),o=t("asyncToGeneratorRuntime").asyncToGenerator(function*(t,o){t({type:"FOLLOW_LIST_MUTUAL_FOLLOWERS_REQUEST",userId:e}),o=i("polarisFollowListSelectors").getFollowListPaginationCursor(o(),e,"inboundMutual");try{var s;s=(null!=(s=(o=(o=yield i("PolarisInstapi").apiGet("/api/v1/friendships/{user_id}/mutual_followers/",{path:{user_id:e},query:{max_id:null!=(o=o)?o:void 0,page_size:r}})).data).users)?s:[]).map(function(e){return String(e.pk)}),yield t(i("PolarisRelationshipActionGetRelationshipInfoForUserIds").getRelationshipInfoForUserIds(s)),t({response:o,type:"FOLLOW_LIST_MUTUAL_FOLLOWERS_SUCCESS",userId:e})}catch(e){i("PolarisMonitorErrors").logError(e)}}),function(){return o.apply(this,arguments)};var o}function d(e,t){return void 0===t&&(t=i("PolarisFollowListActionConstants").PAGE_SIZE),function(r,o){return null==(o=i("polarisFollowListSelectors").getFollowListPagination(o(),e,"inboundMutual"))||!0===i("PolarisPaginationUtils").canFetchMorePagination(o)?r(c(e,t)):r(n(e,t))}}function u(e,r){return void 0===r&&(r=i("PolarisFollowListActionConstants").PAGE_SIZE),o=t("asyncToGeneratorRuntime").asyncToGenerator(function*(t,o){t({type:"FOLLOW_LIST_FOLLOWING_REQUEST",userId:e}),o=i("polarisFollowListSelectors").getFollowListPaginationCursor(o(),e,"outbound");try{var s;s=(null!=(s=(o=(o=yield i("PolarisInstapi").apiGet("/api/v1/friendships/{user_id}/following/",{path:{user_id:e},query:{count:r,max_id:null!=(o=o)?o:void 0}})).data).users)?s:[]).map(function(e){return String(e.pk)}),yield t(i("PolarisRelationshipActionGetRelationshipInfoForUserIds").getRelationshipInfoForUserIds(s)),t({response:o,type:"FOLLOW_LIST_FOLLOWING_SUCCESS",userId:e})}catch(e){i("PolarisMonitorErrors").logError(e)}}),function(){return o.apply(this,arguments)};var o}var g="follow_list_page";a.requestFollowList=e,a.requestNextFollowListPage=r,a.requestFollowers=n,a.requestGroupAdmins=l,a.requestMutualFollowers=c,a.requestMutualFollowersFirst=d,a.requestFollowing=u},98),__d("PolarisAPIPhoneConfirmSendSmsCode",["PolarisInstapi"],function(e,t,r,i,o,s,a){"use strict";function e(e){return i("PolarisInstapi").apiPost("/api/v1/web/accounts/phone_confirm_send_sms_code/",{body:{phone_number:e}}).then(function(e){return e.data})}a.phoneConfirmSendSmsCode=e},98),__d("PolarisAPIPhoneConfirmVerifySmsCode",["PolarisInstapi"],function(e,t,r,i,o,s,a){"use strict";function e(e,t){return i("PolarisInstapi").apiPost("/api/v1/web/accounts/phone_confirm_verify_sms_code/",{body:{phone_number:e,verification_code:t}}).then(function(e){return e.data})}a.phoneConfirmVerifySmsCode=e},98),__d("PolarisPhoneConfirmActions",["fbt","PolarisAPIPhoneConfirmSendSmsCode","PolarisAPIPhoneConfirmVerifySmsCode","PolarisNavigationUtils","PolarisSettingsActionsStrings","Promise","polarisUnexpected"],function(e,t,r,i,o,s,a,n){"use strict";function l(e,r){return r({type:"PHONE_CONFIRM_SMS_CODE_REQUESTED"}),new(t("Promise"))(function(t){i("PolarisAPIPhoneConfirmSendSmsCode").phoneConfirmSendSmsCode(e).then(function(e){return t(e)})["catch"](function(){r({type:"PHONE_CONFIRM_SMS_CODE_SEND_FAILED",toast:{text:i("PolarisSettingsActionsStrings").TWO_FACTOR_GENERIC_ERROR}})})})}function c(e){return function(t){t({type:"UPDATE_PHONE_NUMBER",phoneNumber:e})}}function d(e){return function(t){t({type:"UPDATE_RETURN_URL",returnUrl:e})}}function e(e){return function(t){return l(e,t).then(function(e){e.phone_number_valid&&!e.rate_limited?t({type:"PHONE_CONFIRM_SMS_CODE_SENT"}):e.rate_limited?t({type:"PHONE_CONFIRM_SMS_CODE_SEND_FAILED",toast:{text:h}}):t({type:"PHONE_CONFIRM_SMS_CODE_SEND_FAILED",toast:{text:(null==(e=e.errors)?void 0:e.phone_number)||i("PolarisSettingsActionsStrings").TWO_FACTOR_GENERIC_ERROR}})})}}function o(e,o){return function(s){return s(c(e)),null!=o&&s(d(o)),null==e||""===e?(s({type:"PHONE_CONFIRM_SMS_CODE_SEND_FAILED",toast:{text:i("PolarisSettingsActionsStrings").TWO_FACTOR_GENERIC_ERROR}}),r("polarisUnexpected")("tried to confirm phone number without phone number"),t("Promise").resolve()):l(e,s).then(function(e){e.phone_number_valid?s({type:"PHONE_CONFIRM_SMS_CODE_SENT"}):s({type:"PHONE_CONFIRM_SMS_CODE_SEND_FAILED",toast:{text:i("PolarisSettingsActionsStrings").TWO_FACTOR_GENERIC_ERROR}})})}}function s(){return function(e){e({type:"SHOW_PHONE_FORM"})}}function u(e,t,r){return function(o){return o({type:"PHONE_CONFIRM_SMS_CODE_SUBMITTED"}),i("PolarisAPIPhoneConfirmVerifySmsCode").phoneConfirmVerifySmsCode(e,t).then(function(e){e.verified?(o({type:"PHONE_CONFIRM_SMS_CODE_VERIFY_SUCCESS"}),i("PolarisNavigationUtils").openURLWithFullPageReload(r)):o({type:"PHONE_CONFIRM_SMS_CODE_VERIFY_FAILED",toast:{text:(null==(e=e.errors)?void 0:e.verification_code)||i("PolarisSettingsActionsStrings").TWO_FACTOR_GENERIC_ERROR}})})["catch"](function(){o({type:"PHONE_CONFIRM_SMS_CODE_VERIFY_FAILED",toast:{text:i("PolarisSettingsActionsStrings").TWO_FACTOR_GENERIC_ERROR}})})}}function g(e){return function(t){t({type:"INITIALIZE_FORM",showPhoneForm:!!e})}}var h=n._("We cannot send you a code at this time. Please try again later.");a.CODE_SEND_RATE_LIMIT_GENERIC_ERROR=h,a.requestConfirmationCode=e,a.initiateConfirmationPage=o,a.showPhoneForm=s,a.submitConfirmationCode=u,a.initializeForm=g},98),__d("PolarisFXSettingAvailable",["Promise"],function(e,t,r,i,o,s){"use strict";function e(){return new(t("Promise"))(function(){return!1})}s.shouldHideAccountsCenterSettingOnNative=e},66),__d("PolarisTabbedContentTabNavigation.react",["cx","PolarisFastLink.react","react"],function(e,t,r,i,o,s,a){"use strict";function e(e){var t=e.href,i=e.isSelected,o=e.isSmallScreen,s=e.onClick,a=e.renderLabel,l=e.showSelectedTabIndicator;l=void 0!==l&&l;var c=e.tabBarPosition,d=e.tabBarWidth;d=void 0===d?"wide":d;var u=e.tabId;return e=function(e){s&&s(u,e)},n.jsx(r("PolarisFastLink.react"),{"aria-selected":i,className:"_aa-z"+(i?" _aa--":"")+(!0===l&&i&&"top"===c?" _ac_u":"")+(!0===l&&i&&"bottom"===c?" _ac_v":"")+("narrow"===d?" _ae8r":""),href:t,onClick:e,role:"tab",children:a(i,o)})}var n=i("react");e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisTabbedContent.react",["IGDSBox.react","IGDSDivider.react","IGRouter","PolarisScrollPositionHistory","PolarisTabbedContentTabNavigation.react","PolarisUA","react"],function(e,t,r,i,o,s,a){"use strict";function e(e){function t(e,t){g.forEach(function(r){var o=(r=r.navigation).onClick;i("PolarisScrollPositionHistory").saveScrollPosition(babelHelpers["extends"]({},l,{pathname:r.href})),o&&r.tabId===e&&o(e,t)})}var o=e.forceShowTabs;o=void 0!==o&&o;var s=e.hasNoPosts,a=e.isSmallScreen,l=e.location,c=e.selectedTabId,d=e.showSelectedTabIndicator,u=e.tabBarPosition,g=e.tabs;return e=o||g.length>1,o=g.find(function(e){return(e=e.navigation).tabId===c})||g[0],n.jsxs(n.Fragment,{children:[e?n.jsx("div",{className:"x6s0dn4 x1b1mbwd xav7gou x9f619 x1w9h7q7 x78zum5 x1q0g3np x2lah0s x1pg5gke xwhw2v2 xl56j7k x1r0g7yl xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x4uap5 x18d9i69 xkhd6sd x1n2onr6 x2b8uid x11njtxf"+("top"===u?" x1wzhzgj":" x6umtig")+("bottom"===u?" x13zqm9e":" xaqea5y"),role:"tablist",children:g.map(function(e){return e=e.navigation,n.jsx(r("PolarisTabbedContentTabNavigation.react"),babelHelpers["extends"]({isSelected:e.tabId===c,isSmallScreen:a,onClick:t,showSelectedTabIndicator:d,tabBarPosition:u},e),e.tabId)})}):null,s&&!e||i("PolarisUA").isMobile()?n.jsx(r("IGDSDivider.react"),{}):null,n.jsx(r("IGDSBox.react"),{flex:"grow",position:"relative",children:o&&o.content()})]})}var n=i("react");e.displayName=e.name+" [from "+s.id+"]",t=i("IGRouter").withIGRouter(e),a["default"]=t},98),__d("PolarisTabbedContentTabLabel.react",["IGDSBox.react","PolarisGenericStrings","react"],function(e,t,r,i,o,s,a){"use strict";function e(e){var t=e.icon,o=e.isSelected,s=e.isSmallScreen;return e=e.labelText,t=t,s?(s=o?"ig-primary-button":"ig-secondary-text",n.jsx(t,{alt:e,color:s})):(s=o?"ig-primary-text":"ig-secondary-text",n.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",position:"relative",children:[n.jsx(t,{alt:i("PolarisGenericStrings").EMPTY_STRING,color:s,size:12}),n.jsx("span",{className:"x6umtig x1b1mbwd xaqea5y xav7gou xk390pu xdj266r x11i5rnm xat24cr x1mnrxsn xexx8yu x4uap5 x18d9i69 xkhd6sd x11njtxf",children:e})]}))}var n=i("react");e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisInstagramProfileActionFalcoEvent",["PolarisFalcoLogger"],function(e,t,r,i,o,s,a){"use strict";var n={falco:!0,pigeon:!1},l="ig_profile_action";t={log:function(e){i("PolarisFalcoLogger").FalcoLogger.log(l,e(),{},n)}},a["default"]=t},98),__d("PolarisCometIframeToWWWBase.react",["cx","react","useStable"],function(e,t,r,i,o,s,a){"use strict";function e(e){var t=e.iframeUrl,i=e.keyPostfix;i=void 0===i?"":i,e=e.pageTitle;var o=r("useStable")(function(){return t});return n.jsx("iframe",{className:"_ab5b",height:"100%",src:o,title:e,width:"100%"},o+i)}var n=i("react");e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("polarisGetMessageEventString",[],function(e,t,r,i,o,s){"use strict";function e(e,t){return"object"==typeof(e=e.data)&&"string"==typeof(e=null==e?void 0:e[t])?e:""}s["default"]=e},66),__d("PolarisCometMessageBroker",["Promise","polarisGetMessageEventString"],function(e,t,r,i,o,s,a){"use strict";function n(e){function t(e){var t=r("polarisGetMessageEventString")(e,"action"),i=null==(e=e.data)?void 0:e.message;null==(e=c[t])||e.forEach(function(e){e(i)})}function i(e,t){return null==c[e]&&(c[e]=new Set),c[e].add(t),function(){null!=c[e]&&(c[e]["delete"](t),0===c[e].size&&delete c[e])}}function o(e,t,r){return i(e,function(e){t(r(e))})}function s(){null!=l&&(l.close(),l=null),Object.keys(c).forEach(function(e){c[e].clear(),delete c[e]})}function a(e,t){null!=l&&l.postMessage({action:e,message:t})}function n(e){null!=l&&l.close(),(l=e).onmessage=function(e){t(e)}}var l=null,c={};return null!=e&&n(e),{addListener:i,addTypedListener:o,cleanup:s,sendMessage:a,setMessagePort:n}}function e(e){void 0===e&&(e=function(){return!0});var r=null,i=null,o=function(){null!=r&&(window.removeEventListener("message",r),r=null),null!=i&&(i.cleanup(),i=null)};return{brokerPromise:new(t("Promise"))(function(t){r=function(r){var o=null==r?void 0:r.ports;if(e(r)&&null!=o&&Array.isArray(o)&&null!=o[0])return null!=i?void i.setMessagePort(o[0]):(i=n(o[0]),void t(i))},window.addEventListener("message",r)}),cleanup:o}}a.createParentBroker=e},98),__d("PolarisCometOnIGParentBroker",["PolarisCometMessageBroker","polarisGetMessageEventString"],function(e,t,r,i,o,s,a){"use strict";function e(e){function t(t){var i=r("polarisGetMessageEventString")(t,"initial");return t=r("polarisGetMessageEventString")(t,"cquick"),"CometOnIGBrokerSetup"===i&&e===t}return i("PolarisCometMessageBroker").createParentBroker(t)}a.createBroker=e},98),__d("usePolarisCometIframeToWWWBroker",["PolarisCometOnIGParentBroker","react"],function(e,t,r,i,o,s,a){"use strict";function e(e){var t=l(null),r=t[0],o=t[1];return n(function(){var t=i("PolarisCometOnIGParentBroker").createBroker(e),r=t.brokerPromise,s=t.cleanup;return r.then(o),function(){s(),o(null)}},[e]),r}var n=(t=i("react")).useEffect,l=t.useState;a["default"]=e},98),__d("usePolarisIframeVisualCompletion",["gkx","hero-tracing-placeholder","interaction-tracing-metrics","react","refine"],function(e,t,r,i,o,s,a){"use strict";function e(e){var t=n(i("hero-tracing-placeholder").HeroInteractionIDContext),o=c(function(){var e=null!=t?i("interaction-tracing-metrics").InteractionTracingMetricsCore.get(t):null;return null!=(null==e?void 0:e.vcTracker)&&e.vcTracker.lock("iframe"),null==e?void 0:e.vcTracker},[t]);l(function(){return null!=e&&r("gkx")("4796")&&null!=o?e.addTypedListener("iframe_visual_completion_metrics",function(e){if("success"===e.type){var t=(e=e.value).annotations,r=e.points;o.onBeforeComplete(function(e){if(Object.keys(r).forEach(function(e){o.addMarkerPoint("iframe_"+e,r[e])}),Object.keys(t).forEach(function(e){o.addAnnotation("iframe_"+e,t[e])}),e&&null!=r.visuallyComplete){var i=r.visuallyComplete,s=r.vcWithoutImage,a=e.markerPoints.get("visuallyComplete"),n=e.markerPoints.get("vcWithoutImage");a&&(e.markerPoints.set("containerVisuallyComplete",a),i&&i>a.timestamp+e.startTime&&(e.visuallyComplete=i-e.startTime,o.addMarkerPoint("visuallyComplete",i,{overwrite:"iframe"}))),n&&(e.markerPoints.set("containerVcWithoutImage",n),s&&s>n.timestamp+e.startTime&&(e.vcWithoutImage=s-e.startTime,o.addMarkerPoint("vcWithoutImage",s,{overwrite:"iframe"})))}}),o.unlock("iframe")}},d):function(){}},[e,o])}var n=(t=i("react")).useContext,l=t.useEffect,c=t.useMemo,d=i("refine").object({annotations:i("refine").dict(i("refine").string()),points:i("refine").dict(i("refine").number())});a["default"]=e},98),__d("usePolarisSetupRoutingHandler",["IGRouter","react","refine"],function(e,t,r,i,o,s,a){"use strict";function e(e,t){var r=i("IGRouter").useIGHistory(),o=i("IGRouter").useIGLocation(),s=null==(o=o.state)?void 0:o.navigationKey,a=l(s);n(function(){a.current!==s&&(a.current=s,null!=e&&e.sendMessage("dispatcher",{action:"handleUrl",url:t,pageNavigationKey:s}))},[t,s,e]),n(function(){return null==e?function(){}:e.addTypedListener("dispatcher",function(e){if("success"===e.type){var t=(e=e.value).action,i=e.count,o=e.navigationKey;e=e.url,"go"===t&&null!=e?r.push(e,{navigationKey:o}):"goBack"===t&&(null!=i?r.go(-i):r.goBack())}},c)},[e,r])}var n=(t=i("react")).useEffect,l=t.useRef,c=i("refine").object({action:i("refine").string(),url:i("refine").nullable(i("refine").string()),count:i("refine").nullable(i("refine").number()),navigationKey:i("refine").nullable(i("refine").string())});a["default"]=e},98),__d("usePolarisUpdateTimeSpentBitArrayHandler",["PolarisTimeSpentBitArrayLogger","react","refine"],function(e,t,r,i,o,s,a){"use strict";function e(e){n(function(){return null==e?function(){}:e.addTypedListener("update_time_spent_bit_array",function(e){"success"===e.type&&(e=e.value.eventTimeInMs,i("PolarisTimeSpentBitArrayLogger").updateTimeSpentArray(e))},l)},[e])}var n=i("react").useEffect,l=i("refine").object({eventTimeInMs:i("refine").number()});a["default"]=e},98),__d("usePolarisCometIframeSetup",["PolarisCometIframeToWWWConstants","polarisDeveloperSettings","useCometUniqueID","usePolarisCometIframeToWWWBroker"],function(e,t,r,i,o,s,a){"use strict";function n(e,t){return(e=new URL(l+e)).searchParams.set("cquick",t),e.searchParams.set("ctarget",window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),e.href}function e(e){var t=r("useCometUniqueID")();return{broker:r("usePolarisCometIframeToWWWBroker")(t),currentIframeUrl:e=n(e,t)}}var l=i("PolarisCometIframeToWWWConstants").PROD_WWW_IFRAME_HOST;a["default"]=e},98),__d("usePolarisUpdateMAWLoggingHandler",["cr:284","gkx","react","refine"],function(e,t,r,i,o,s,a){"use strict";function e(e){n(function(){return null!=e&&r("gkx")("4979")?e.addTypedListener("update_maw_logging",function(e){if("success"===e.type){var r=(e=e.value).event;e=e.trace,null==t("cr:284")||t("cr:284").appendMAWLog(r,e)}},l):function(){}},[e])}var n=i("react").useEffect,l=i("refine").object({event:i("refine").string(),trace:i("refine").string()});a.useUpdateMAWLoggingHandler=e},98),__d("PolarisIGCorePhotoGridPanoOutlineIcon",["PolarisIGCoreSVGIcon","react"],function(e,t,r,i,o,s,a){"use strict";function e(e){return n.jsxs(r("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},e,{viewBox:"0 0 24 24",children:[n.jsx("rect",{fill:"none",height:"18",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",width:"18",x:"3",y:"3"}),n.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"9.015",x2:"9.015",y1:"3",y2:"21"}),n.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"14.985",x2:"14.985",y1:"3",y2:"21"}),n.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"21",x2:"3",y1:"9.015",y2:"9.015"}),n.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"21",x2:"3",y1:"14.985",y2:"14.985"})]}))}var n=i("react");e.displayName=e.name+" [from "+s.id+"]",t=n.memo(e),a["default"]=t},98),__d("useForceUpdate",["react"],function(e,t,r,i,o,s,a){"use strict";function e(){var e=n(function(e){return e+1},0);return e[0],e=e[1]}var n=i("react").useReducer;a["default"]=e},98),__d("useIGDSToasts",["IGDSPrivateToasterContext","react"],function(e,t,r,i,o,s,a){"use strict";function e(){return n(i("IGDSPrivateToasterContext").IGDSPrivateToasterItemsContext)}var n=i("react").useContext;a["default"]=e},98),__d("PolarisSponsoredStoryCaptionModal.react",["fbt","IGDSBox.react","PolarisIGCoreSheetOrModal","PolarisStoriesProvider.react","PolarisUserText.react","react"],function(e,t,r,i,o,s,a,n){"use strict";function e(e){var t=e.caption;e=e.onClose;var o=i("PolarisStoriesProvider.react").useStoriesContext();return o=o.viewerHeight,o=l.jsx("div",{style:{overflow:"auto",maxHeight:o-c},children:l.jsx(r("IGDSBox.react"),{marginBottom:5,marginTop:5,paddingX:5,position:"relative",children:l.jsx(r("PolarisUserText.react"),{size:"body",value:t})})}),l.jsx(i("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{children:o,onClose:e,title:d})}var l=i("react"),c=100,d=n._("Caption");e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisSponsoredStoryOptionsModal.react",["IGCoreDialog","PolarisAboutAdsDialogItem.react","PolarisAdDebugToolModalContent.react","PolarisContainerModuleUtils","PolarisFRXReportModal.react","PolarisGenericStrings","PolarisHideAdDialogItem.react","PolarisODS","PolarisReportAdDialogItem.react","PolarisReportConstants","PolarisWAISTDialogItem.react","PolarisWAISTModalContent.react","cr:1468","react","usePolarisAnalyticsContext","usePolarisSponsoredStoryLoggingParams"],function(e,t,r,i,o,s,a){"use strict";function e(e){var o=e.onClose,s=e.post;e=e.reel;var a=l("options"),c=a[0],d=a[1];a=function(){r("PolarisODS").incr("web.ads.story.report_option.click"),d("report")};var u=function(){r("PolarisODS").incr("web.ads.story.hide_option.click"),d("hide")},g=function(){d("waist")},h=function(){d("viewAdDebugTool")},S=r("usePolarisAnalyticsContext")(),x=s.owner,P=r("usePolarisSponsoredStoryLoggingParams")(e,s),m=P.adId,p=P.adInsertedPosition,I=P.mpk,f=P.reelId,y=P.sessionReelCounter,v=P.trackingToken,C=P.traySession;if(P=P.viewerSession,null==m||null==x)return null;switch(c){case"options":return n.jsxs(i("IGCoreDialog").IGCoreDialog,{"data-testid":void 0,onModalClose:o,children:[n.jsx(r("PolarisHideAdDialogItem.react"),{adId:m,adInsertedPosition:p,adTrackingToken:v,mpk:I,onClick:u,reelCounter:y,reelId:f,traySession:C,viewerSession:P}),n.jsx(r("PolarisReportAdDialogItem.react"),{adId:m,adInsertedPosition:p,adTrackingToken:v,mpk:I,onClick:a,post:s,reelCounter:y,reelId:e.id,traySession:C,viewerSession:P}),n.jsx(r("PolarisWAISTDialogItem.react"),{onClick:g}),n.jsx(r("PolarisAboutAdsDialogItem.react"),{}),null!=t("cr:1468")&&n.jsx(t("cr:1468"),{onClick:h}),n.jsx(i("IGCoreDialog").IGCoreDialogItem,{onClick:o,children:i("PolarisGenericStrings").CANCEL_TEXT})]});case"report":return n.jsx(r("PolarisFRXReportModal.react"),{containerModule:i("PolarisContainerModuleUtils").getContainerModule(S),frxEntryPoint:i("PolarisReportConstants").FRXEntryPoint.REPORT_AD_BUTTON,frxLocation:i("PolarisReportConstants").FRXLocation.STORY,frxObjectType:i("PolarisReportConstants").FRXObjectType.AD,onClose:o,reportedObjectID:m,reportedOwner:{id:x.id,username:x.username,profilePicURL:x.profilePictureUrl}});case"hide":return n.jsx(r("PolarisFRXReportModal.react"),{containerModule:i("PolarisContainerModuleUtils").getContainerModule(S),frxEntryPoint:i("PolarisReportConstants").FRXEntryPoint.HIDE_AD_BUTTON,frxLocation:i("PolarisReportConstants").FRXLocation.STORY,frxObjectType:i("PolarisReportConstants").FRXObjectType.AD,onClose:o,reportedObjectID:m,reportedOwner:{id:x.id,username:x.username,profilePicURL:x.profilePictureUrl}});case"waist":return n.jsx(r("PolarisWAISTModalContent.react"),{adId:m,onClose:o});case"viewAdDebugTool":return n.jsx(r("PolarisAdDebugToolModalContent.react"),{forFeed:!1,onClose:o,post:s});default:return null}}var n=i("react"),l=i("react").useState;e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisCloseFriendsInfoDialog.react",["cx","fbt","IGCoreDialog","IGDSBox.react","PolarisAssetManagerGlyphMapping","PolarisGenericStrings","PolarisIGCoreAvatar","PolarisIGCoreConstants","PolarisIGCoreIcon","PolarisReactRedux","PolarisStoriesStrings","nullthrows","polarisPostSelectors","polarisUserSelectors","react"],function(e,t,r,i,o,s,a,n,l){"use strict";function e(e){var t=c.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",position:"relative",children:[c.jsx(r("IGDSBox.react"),{height:r("PolarisIGCoreConstants").AVATAR_SIZES.medium,position:"relative",children:c.jsx(r("PolarisIGCoreAvatar"),{alt:l._("{username}'s profile picture",[l._param("username",e.username)]),size:"medium",src:e.profilePicUrl})}),c.jsx("div",{className:"_abeg",children:c.jsx(r("PolarisIGCoreIcon"),{alt:i("PolarisStoriesStrings").CLOSE_FRIENDS,icon:i("PolarisAssetManagerGlyphMapping").ICONS.GLYPH_CIRCLE_STAR})})]});return c.jsx(i("IGCoreDialog").IGCoreDialog,{body:e.isVideo?i("PolarisStoriesStrings").CLOSE_FRIENDS_INFO_VIDEO(e.username):i("PolarisStoriesStrings").CLOSE_FRIENDS_INFO_PHOTO(e.username),media:t,onModalClose:e.onClose,title:i("PolarisStoriesStrings").CLOSE_FRIENDS_ONLY,children:c.jsx(i("IGCoreDialog").IGCoreDialogItem,{onClick:e.onClose,children:i("PolarisGenericStrings").CLOSE_TEXT})})}function t(e,t){var o=i("polarisUserSelectors").getUserById(e,t.userId);return{isVideo:(e=i("polarisPostSelectors").getPostById(e,t.postId)).isVideo||!1,username:r("nullthrows")(o.username),profilePicUrl:r("nullthrows")(o.profilePictureUrl)}}var c=i("react");e.displayName=e.name+" [from "+s.id+"]",o=i("PolarisReactRedux").connect(t)(e),a["default"]=o},98),__d("PolarisExclusiveStoryInfoDialog.react",["cx","fbt","ix","IGCoreDialog","IGCoreImage","IGDSBox.react","PolarisGenericStrings","PolarisStoriesStrings","react"],function(e,t,r,i,o,s,a,n,l,c){"use strict";function e(e){var t=d.jsx(r("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",position:"relative",children:d.jsx("div",{className:"_ac4c",children:d.jsx(r("IGCoreImage"),{alt:l._("Subscriber crown badge"),src:{light:c("170653")}})})});return d.jsx(i("IGCoreDialog").IGCoreDialog,{body:i("PolarisStoriesStrings").EXCLUSIVE_STORY_INFO(e.username),media:t,onModalClose:e.onClose,title:i("PolarisStoriesStrings").EXCLUSIVE_STORY_ONLY,children:d.jsx(i("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:e.onClose,children:i("PolarisGenericStrings").DONE_TEXT})})}var d=i("react");e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisHighlightsTrayModal.react",["fbt","IGDSBox.react","PolarisIGCoreSheetOrModal","PolarisProfilePostsActions","PolarisProfileStoryHighlightsTray.react","PolarisReactRedux","PolarisStoriesProvider.react","PolarisStoryActions","nullthrows","polarisUserSelectors","react"],function(e,t,r,i,o,s,a,n){"use strict";function e(e){var t=e.currentPost,o=(e=i("PolarisStoriesProvider.react").useStoriesContext()).updateStoriesContext,s=i("PolarisReactRedux").useSelector(function(e){return r("nullthrows")(i("polarisUserSelectors").getViewer(e))}),a=i("PolarisReactRedux").useDispatch(),u=c(function(){o({isHighlightsTrayActive:!1})},[o]),g=i("PolarisReactRedux").useSelector(function(e){return e.stories.highlightReelsByUserId.get(s.id)});d(function(){null==g&&a(i("PolarisProfilePostsActions").loadProfilePageExtras(s.id,{fetchHighlightReels:!0}))},[a,s.id,g]);var h=t.highlightReelIds;return e=function(e){var r;a(i("PolarisStoryActions").editStoryInHighlightAction(-1===(null!=(r=null==h?void 0:h.indexOf(e.id))?r:-1),t.id,e.id,s.id,e.title)),u()},l.jsx(i("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:u,title:n._("Add to highlights"),children:l.jsx(r("IGDSBox.react"),{paddingY:8,position:"relative",children:l.jsx(r("PolarisProfileStoryHighlightsTray.react"),{highlightReelIdsWithOverlay:h,isSmallScreen:!1,onClick:e,storyEntrypoint:!0,user:s,userId:s.id,viewer:s})})})}var l=i("react"),c=(t=i("react")).useCallback,d=t.useEffect;e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisHasEditHighlightEnabled",["PolarisConfig","PolarisUA"],function(e,t,r,i,o,s,a){"use strict";function e(){return i("PolarisUA").isDesktop()&&i("PolarisConfig").isLoggedIn()}a.hasEditHighlightEnabled=e},98),__d("PolarisBoostPostDialogItem",["IGCoreDialog","IGDSBox.react","JSResourceForInteraction","PolarisBoostUtils","PolarisIGCorePressable","PolarisPromotedPostsLogger","PolarisQueryParamsHelper","PolarisReactRedux","PolarisStoriesContext","PolarisToastConstants","emptyFunction","polarisUserSelectors","react","useIGDSLazyDialog","useIGDSToaster","useIGDSToasts","usePolarisViewer","uuid"],function(e,t,r,i,o,s,a){"use strict";function e(e){var t=e.analyticsContext,o=e.boostedStatus,s=e.boostStoryEligibilityType,a=e.boostUnavailableReason,g=e.id,h=e.postProductType,S=null==(e=r("usePolarisViewer")())?void 0:e.id,x=(e=r("useIGDSToaster")()).add,P=r("useIGDSToasts")(),m=i("PolarisQueryParamsHelper").getQueryParams(window.location.href),p=(e=r("useIGDSLazyDialog")(u))[0],I=(e=c(i("PolarisStoriesContext").StoriesContext)).updateStoriesContext,f=i("PolarisReactRedux").useSelector(function(e){return i("polarisUserSelectors").getViewer(e)});e=function(){if(o===i("PolarisBoostUtils").BoostedStatusEnum.UNAVAILABLE&&null!=a){var e={message:a,target:"bottom"};0===P.length&&x(e,{duration:d})}};var y=l(function(){if(null!=S){var e;I({isPaused:!0,isModalActive:!1});var o=r("uuid")();i("PolarisBoostUtils").handleBoostButtonClickWithLogging(S,g,null,s,null!=(e=i("PolarisPromotedPostsLogger").getPolarisBoostEntryPointType(t))?e:"",null!=(e=h)?e:"",null==m?void 0:m.ref,o,t,function(e){return p({boostUri:e,entryPoint:null!=(e=i("PolarisPromotedPostsLogger").getPolarisBoostEntryPointType(t))?e:void 0,flowID:o})},null==f?void 0:f.username)}},[t,s,g,p,h,null==m?void 0:m.ref,I,null==f?void 0:f.username,S]);return s===i("PolarisBoostUtils").BoostEligibilityEnum.INELIGIBLE||null==o||null==h||null==S?null:n.jsx(r("PolarisIGCorePressable"),{className:"xtuw4uo",onMouseEnter:e,onPress:r("emptyFunction"),children:n.jsx(r("IGDSBox.react"),{children:n.jsx(i("IGCoreDialog").IGCoreDialogItem,{disabled:o===i("PolarisBoostUtils").BoostedStatusEnum.UNAVAILABLE||i("PolarisBoostUtils").getIsBoostButtonDisabledFromBoostedStatus(o),onClick:y,children:i("PolarisBoostUtils").getBoostButtonCTAFromBoostedStatus(o,h)})})})}var n=i("react"),l=(t=i("react")).useCallback,c=t.useContext,d=2e3*i("PolarisToastConstants").TOAST_ANIM_DURATION_S,u=r("JSResourceForInteraction")("IGDSPro2ProDialog.react").__setRef("PolarisBoostPostDialogItem");e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisOptionsModal.react",["fbt","IGCoreDialog","IGRouter","PolarisBoostPostDialogItem","PolarisBoostUtils","PolarisConfig","PolarisGenericStrings","PolarisLinkBuilder","PolarisNavigationUtils","PolarisPostStrings","PolarisReportUnderLawDialogItem.react","PolarisRoutes","PolarisStoriesContext","react","usePolarisViewer"],function(e,t,r,i,o,s,a,n){"use strict";function e(e){var t,o=function(){e.history.push(i("PolarisLinkBuilder").buildMediaLink(e.code))},s=d(i("PolarisStoriesContext").StoriesContext),a=s.updateStoriesContext;s=c(function(){a({isLoggedOutStoryShareSheetActive:!0,isPaused:!0,isModalActive:!1})},[a]);var u=e.boostedStatus,g=e.productType;return t=null==(t=r("usePolarisViewer")())?void 0:t.id,u=i("PolarisBoostUtils").useGetEligibilityTypeForBoostAdEntries({useCaseIsEligibleForBoostAd:null!=u&&null!=t,postProductType:g}),l.jsxs(i("IGCoreDialog").IGCoreDialog,{onModalClose:e.onClose,children:[!0===e.hasGoToOption&&l.jsx(i("IGCoreDialog").IGCoreDialogItem,{onClick:o,children:n._("Go to post")}),!0===e.hasDeleteOption&&l.jsx(i("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:e.onDeleteClick,children:n._("Delete")}),!0===e.hasEditOption&&l.jsx(i("IGCoreDialog").IGCoreDialogItem,{onClick:e.onEditClick,children:n._("Edit")}),!0===e.hasReportInappropriateOption&&l.jsx(i("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:i("PolarisConfig").isLoggedIn()?e.onReportInappropriateClick:function(){return i("PolarisNavigationUtils").openExternalURL(i("PolarisLinkBuilder").buildLoggedOutReportLink(i("PolarisRoutes").COMMUNITY_VIOLATIONS_GUIDELINES_CONTACT_FORM_PATH,e.code))},children:i("PolarisPostStrings").REPORT_INAPPROPRIATE_TEXT}),i("PolarisConfig").isNetzDGEligible()&&l.jsx(i("PolarisReportUnderLawDialogItem.react").ReportUnderLawDialogItem,{contentId:e.id}),!0===e.hasAboutThisAccountOption&&l.jsx(i("IGCoreDialog").IGCoreDialogItem,{onClick:e.onAboutThisAccountClick,children:n._("About this account")}),!0===e.hasCopyHighlightLinkAndShareToOptions&&l.jsx(i("IGCoreDialog").IGCoreDialogItem,{onClick:s,children:n._("Share to...")}),!0===e.hasEmbedOption&&l.jsx(i("IGCoreDialog").IGCoreDialogItem,{onClick:e.onEmbedCodeClick,children:n._("Embed")}),!0===e.hasPhotosOfYouOption&&l.jsx(i("IGCoreDialog").IGCoreDialogItem,{onClick:e.onPhotosOfYouClick,children:n._("Post Options")}),!0===e.hasShareOption&&l.jsx(i("IGCoreDialog").IGCoreDialogItem,{onClick:e.onShareClick,children:n._("Share")}),!0===e.hasCopyLinkOption&&l.jsx(i("IGCoreDialog").IGCoreDialogItem,{onClick:e.onCopyLinkClick,children:n._("Copy link")}),!0===e.hasCopyHighlightLinkAndShareToOptions&&l.jsx(i("IGCoreDialog").IGCoreDialogItem,{onClick:e.onCopyHighlightLinkClick,children:n._("Copy highlight link")}),!0===e.hasRemoveCommentsOption&&l.jsx(i("IGCoreDialog").IGCoreDialogItem,{onClick:e.onRemoveCommentsClick,children:!0!==e.showRemoveCommentIcons?n._("Remove comments"):n._("Finish removing comments")}),!0===e.hasUnfollowOption&&l.jsx(i("IGCoreDialog").IGCoreDialogItem,{onClick:e.onUnfollowClick,children:n._("Unfollow")}),!0===e.hasViewInsightsOption&&l.jsx(i("IGCoreDialog").IGCoreDialogItem,{onClick:e.onViewInsightsClick,children:n._("View insights")}),u!==i("PolarisBoostUtils").BoostEligibilityEnum.INELIGIBLE&&l.jsx(r("PolarisBoostPostDialogItem"),{analyticsContext:e.analyticsContext,boostedStatus:e.boostedStatus,boostStoryEligibilityType:u,boostUnavailableReason:e.boostUnavailableReason,id:e.id,postProductType:e.productType}),l.jsx(i("IGCoreDialog").IGCoreDialogItem,{onClick:e.onClose,children:i("PolarisGenericStrings").CANCEL_TEXT})]})}var l=i("react"),c=(t=i("react")).useCallback,d=t.useContext;e.displayName=e.name+" [from "+s.id+"]",o=i("IGRouter").withIGRouter(e),a["default"]=o},98),__d("PolarisStoryOptionsModal.react",["fbt","AboutThisAccountRefererTypes","CometPlaceholder.react","JSResourceForInteraction","PolarisAboutThisAccountModal.react","PolarisAboutThisAccountUtils","PolarisClipboard","PolarisConfirmDialog.react","PolarisCreateAndAddHighlightsModal.react","PolarisFRXReportModal.react","PolarisHasEditHighlightEnabled","PolarisInsightsHoldoutUtils","PolarisInsightsUtils","PolarisLinkBuilder","PolarisOptionsModal.react","PolarisPostActionDeletePost","PolarisPostFastOptionCopyLink.react","PolarisReactRedux","PolarisReportConstants","PolarisStoriesContext","PolarisToastActions","QuickPerformanceLogger","URI","lazyLoadComponent","nullthrows","polarisIsUserLoggedIn","polarisStorySelectors","polarisUserSelectors","qex","qpl","react"],function(e,t,r,i,o,s,a,n){"use strict";function l(e){return function(){return{modalType:e}}}function e(e){return babelHelpers["extends"]({},i("polarisStorySelectors").getContainerModule(e),{viewer:i("polarisUserSelectors").getViewer(e)})}function t(e){return{onDeletePost:function(t){return e(i("PolarisPostActionDeletePost").deletePost(t))},onLinkCopied:function(){return e(i("PolarisToastActions").showToast({text:i("PolarisPostFastOptionCopyLink.react").LINK_COPIED_PROMPT}))}}}
var c=i("react"),d=r("lazyLoadComponent")(r("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisStoryOptionsModal.react"));(o=function(e){function t(t){var o;return(o=e.call(this,t)||this).$1=function(){var e=new(r("URI"))("https://www.instagram.com"+i("PolarisLinkBuilder").buildHighlightStoryLink(o.props.reel.id)).addQueryData("utm_source","ig_web_options_menu");i("PolarisClipboard").copy(e.toString())&&(o.props.onLinkCopied(),o.props.onClose())},o.$2=function(){o.props.onDeletePost(o.props.currentPost.id),o.props.onClose()},o.$3=function(){o.setState(l("delete"))},o.$4=function(){o.setState(l("edit"))},o.$5=function(){o.setState(l("report"))},o.$6=function(){o.setState(l("view_insights")),i("PolarisInsightsHoldoutUtils").getPassesWebMediaInsightsFeatureHoldoutForExperiment()&&r("qex")._("1012"),r("QuickPerformanceLogger").markerStart(r("qpl")._(39124993,"1609"))},o.$7=function(){o.setState(l("about_this_account"))},o.state={modalType:"options"},o}return babelHelpers.inheritsLoose(t,e),t.prototype.render=function(){var e,t=this.props,o=t.analyticsContext,s=t.currentPost,a=t.onClose,l=t.reel,u=t.user,g=t.viewer;t=t.viewingOwnStory,e=(e=i("PolarisInsightsUtils").getViewInsightsInfo(g,null==(e=s.owner)?void 0:e.id,s,!!s.canSeeInsightsAsBrand,!!(null==g?void 0:g.canSeeOrganicInsights))).hasViewInsights;var h=!1;u&&(h=i("PolarisAboutThisAccountUtils").getIsEligibleForATA(u)),u=!i("polarisIsUserLoggedIn").isUserLoggedIn()&&!0===r("qex")._("648");var S="GraphHighlightReel"===l.type;switch(this.state.modalType){case"options":return c.jsx(r("PolarisOptionsModal.react"),{analyticsContext:o,boostedStatus:s.boostedStatus,boostUnavailableReason:s.boostUnavailableReason,code:null!=s.code&&""!==s.code?s.code:"",hasAboutThisAccountOption:h,hasCopyHighlightLinkAndShareToOptions:u,hasDeleteOption:t,hasEditOption:t&&S&&i("PolarisHasEditHighlightEnabled").hasEditHighlightEnabled(),hasEmbedOption:!1,hasGoToOption:!1,hasReportInappropriateOption:!t,hasShareOption:!1,hasViewInsightsOption:e,id:s.id,onAboutThisAccountClick:this.$7,onClose:a,onCopyHighlightLinkClick:this.$1,onDeleteClick:this.$3,onEditClick:this.$4,onReportInappropriateClick:this.$5,onViewInsightsClick:this.$6,postType:!0===s.isVideo?"video":"photo",productType:s.productType});case"report":return o=r("nullthrows")(s.owner),h=s.id,c.jsx(r("PolarisFRXReportModal.react"),{frxLocation:i("PolarisReportConstants").FRXLocation.STORY,frxObjectType:i("PolarisReportConstants").FRXObjectType.MEDIA,onClose:a,reportedObjectID:h,reportedOwner:{id:o.id,username:o.username,profilePicURL:o.profilePictureUrl}});case"edit":if(g)return c.jsx(r("PolarisCreateAndAddHighlightsModal.react"),{currentHighlightStoryIds:null!=(u=l.itemIds)?u:[],editing:!0,highlightId:null!=(S=l.id)?S:"",highlightName:null!=(t=l.title)?t:"",highlightThumbnailUrl:null!=(e=l.originalThumbnailUrl)?e:null,onClose:a,user:g});case"delete":return!0===s.isVideo?c.jsx(r("PolarisConfirmDialog.react"),{body:n._("Are you sure you want to delete this video from your story?"),confirmLabel:n._("Delete"),onClose:a,onConfirm:this.$2,title:n._("Delete Story?")}):c.jsx(r("PolarisConfirmDialog.react"),{body:n._("Are you sure you want to delete this photo from your story?"),confirmLabel:n._("Delete"),onClose:a,onConfirm:this.$2,title:n._("Delete Story?")});case"view_insights":return i("PolarisInsightsHoldoutUtils").getPassesWebMediaInsightsFeatureHoldoutForExperiment()&&!0===r("qex")._("1013")?null==s.boostedStatus?null:c.jsx(r("CometPlaceholder.react"),{fallback:null,children:c.jsx(d,{appId:i("PolarisInsightsUtils").showAdInsightsForMedia(s.boostedStatus)?"com.instagram.insights.media_refresh.stories.ad_bottom_sheet.action":"com.instagram.insights.media_refresh.stories.bottom_sheet.action",bridgeOverrides_DEPRECATED:{onResumeStoryPlayback:a},params:{media_id:s.id}})}):c.jsx(r("CometPlaceholder.react"),{fallback:null,children:c.jsx(d,{appId:"com.instagram.insights.media.stories.bottom_sheet.action",bridgeOverrides_DEPRECATED:{onResumeStoryPlayback:a},params:{media_id:s.id}})});case"about_this_account":return c.jsx(r("PolarisAboutThisAccountModal.react"),{onClose:a,referer_type:r("AboutThisAccountRefererTypes").STORY,user:r("nullthrows")(s.owner)});default:return null}},t}(c.Component)).contextType=i("PolarisStoriesContext").StoriesContext,s=i("PolarisReactRedux").connect(e,t)(o),a["default"]=s},98),__d("PolarisStoryOptionsModalPicker.react",["PolarisSponsoredStoryOptionsModal.react","PolarisStoriesProvider.react","PolarisStoryOptionsModal.react","react"],function(e,t,r,i,o,s,a){"use strict";function e(e){var t=e.analyticsContext,o=e.currentPost,s=e.currentReelItemIndex,a=e.onModalClose,l=e.reel,c=e.reelPositionInTray,d=e.traySession,u=e.user,g=e.viewerId,h=e.viewerSession;e=e.viewingOwnStory;var S=i("PolarisStoriesProvider.react").useStoriesContext();return(S=S.isModalActive)?o.isSponsored?n.jsx(r("PolarisSponsoredStoryOptionsModal.react"),{onClose:a,post:o,reel:l}):n.jsx(r("PolarisStoryOptionsModal.react"),{analyticsContext:t,currentPost:o,currentReelItemIndex:s,onClose:a,reel:l,reelPositionInTray:c,traySession:d,user:u,viewerId:g,viewerSession:h,viewingOwnStory:e}):null}var n=i("react");e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisStoryViewerSlider.react",["IGDSBox.react","react","stylex"],function(e,t,r,i,o,s,a){"use strict";function n(e,t){e.style.backgroundImage="linear-gradient(to right, rgb(163, 7, 186) 0%, rgb(237, 73, 86) "+t+"%, rgb(var(--ig-separator)) "+t+"%, rgb(var(--ig-separator)) 100%"}function e(e){var t=e.emoji,i=e.showFloatingEmoji,o=e.smallerThumb;o=void 0!==o&&o;var s=e.value;e=void 0===(e=e.width)?150:e;var a=d(null),P=a[0];a=a[1];var m=100*s;c(function(){P&&n(P,m)},[P,m]);var p=o?u:g;return s=Math.max(0,s*(e-p)-S),l.jsxs(r("IGDSBox.react"),{direction:"column",display:"flex",paddingY:1,position:"relative",width:e,children:[i&&l.jsx("div",{className:"xeq5yr9 x1n2onr6",style:{fontSize:h,left:s,padding:"8px 0px"},children:t}),l.jsxs(r("IGDSBox.react"),{display:"flex",height:p,justifyContent:"center",position:"relative",width:"100%",children:[l.jsx("input",{className:"xjyslct x11mr3az x1a2a7pz xh8yej3 xqu0tyb x1nn3v0j x4uap5 x1120s5i xkhd6sd x1lq5wgf xgqcy7u x30kzoy x9jhf4c xmxzvbm x1c4j5rl x113qh7d x2dgui x1dgllwq x1y0u3c3",disabled:!0,max:100,min:0,ref:a,type:"range",value:m}),l.jsx("div",{className:r("stylex")([x.sliderThumb,o?x.sliderThumbSmall:x.sliderThumbLarge]),style:{left:s}})]})]})}var l=i("react"),c=(t=i("react")).useLayoutEffect,d=t.useState,u=12,g=20,h=24,S=2,x={container:{appearance:"xjyslct",backgroundColor:"x11mr3az",outline:"x1a2a7pz",width:"xh8yej3",height:"xqu0tyb",paddingTop:"x1nn3v0j",paddingEnd:"x4uap5",paddingBottom:"x1120s5i",paddingStart:"xkhd6sd",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c","::thumb_appearance":"xmxzvbm","::-moz-range-thumb_background":"x1c4j5rl","::-moz-range-thumb_borderTop":"x113qh7d","::-moz-range-thumb_borderEnd":"x2dgui","::-moz-range-thumb_borderBottom":"x1dgllwq","::-moz-range-thumb_borderStart":"x1y0u3c3",$$css:!0},sliderThumb:{borderTop:"xmva6s9",borderEnd:"xgm0wpl",borderBottom:"x1wlpvkj",borderStart:"x18bz70p",backgroundColor:"xz3rzyy",position:"x10l6tqk",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},sliderThumbLarge:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},sliderThumbSmall:{height:"x1kpxq89",width:"xsmyaan",$$css:!0},emoji:{width:"xeq5yr9",position:"x1n2onr6",$$css:!0}};e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisStorySliderVoter.react",["PolarisStoryViewerSlider.react","PolarisUserListItem.react","react"],function(e,t,r,i,o,s,a){"use strict";function e(e){var t=e.avatarSize,i=e.entryPoint,o=e.index,s=e.isVisible,a=e.onScrollEnter,c=e.onUsernameClick;return e=e.storySliderVoter,n.jsx(r("PolarisUserListItem.react"),{avatarSize:t,borderlessFollowButton:!1,entryPoint:i,hideFollowButton:!0,hideName:!1,hideStoryRings:!0,hoverPositionType:"absolute",id:e.id,isVisible:s,onScrollEnter:a,onUsernameClick:c,position:o,subtitle:n.jsx(r("PolarisStoryViewerSlider.react"),{showFloatingEmoji:!1,smallerThumb:!0,value:null!=(t=e.vote)?t:0,width:l})})}var n=i("react"),l=150;e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisStorySliderUserList.react",["fbt","IGDSBox.react","IGDSListItemPlaceholder","IGDSSpinner.react","IGDSText.react","PolarisErrorBoundary.react","PolarisIGCoreButton","PolarisIGVirtualList.react","PolarisStorySliderVoter.react","PolarisUserListItem.react","emptyFunction","react","usePrevious"],function(e,t,r,i,o,s,a,n){"use strict";function e(e){var t=e.avatarSize,i=e.containerSize;i=void 0===i?"auto":i;var o=e.currentPost,s=e.entryPoint,a=void 0===s?"unknown":s,h=void 0!==(s=e.hideStoryRings)&&s,S=void 0===(s=e.initialRenderCount)?u:s,x=void 0!==(s=e.isLoading)&&s,P=e.likers,m=e.moreSliderVotersButton,p=e.onLoadStorySliderVoters;s=e.onScroll;var I=e.storySliderVoterCount,f=e.storySliderVoters,y=e.topComponent,v=e.userIds,C=l.createRef(),_=(e=d(0))[0],T=e[1],E=r("usePrevious")(_);return c(function(){null!=C.current&&v.length===S&&0===E&&C.current.forceUpdate(),T(v.length)},[v,C,S,E]),e=function(e){var i=e.index;return e=e.isVisible,0===v.length?x?l.jsx(r("IGDSListItemPlaceholder"),{size:t},i):null:i<I?l.jsxs(r("PolarisErrorBoundary.react"),{children:[0===i&&null!=y&&y,0===i&&l.jsx("div",{className:"xz9dl7a xn6708d xsag5q8 x1ye3gou",children:l.jsx(r("IGDSText.react").Section,{children:n._("Answers")})}),l.jsx(r("PolarisStorySliderVoter.react"),{avatarSize:t,entryPoint:a,index:i,isVisible:e,onScrollEnter:r("emptyFunction"),onUsernameClick:r("emptyFunction"),storySliderVoter:f[i]}),i===f.length-1&&!0===m&&l.jsx("div",{className:"x11g6tue xqy66fx x14uny0o xr1496l xvpee5o",children:l.jsx(r("PolarisIGCoreButton"),{borderless:!0,color:"web-always-white",onClick:function(){var e;return p(o.id,null!=(e=null==(e=o.storySliders)?void 0:null==(e=e[0])?void 0:e.id)?e:"")},children:l.jsx(r("IGDSText.react").Section,{children:n._("See all")})})}),i===f.length-1&&l.jsx("div",{className:"xz9dl7a xn6708d xsag5q8 x1ye3gou",children:l.jsx(r("IGDSText.react").Section,{children:n._("Viewers")})})]},f[i].ts):l.jsxs(r("PolarisErrorBoundary.react"),{children:[0===i&&null!=y&&y,l.jsx(r("PolarisUserListItem.react"),{avatarSize:t,borderlessFollowButton:!1,entryPoint:a,hasLiked:null==P?void 0:P.has(v[i-I]),hideFollowButton:!0,hideName:!1,hideStoryRings:h,id:v[i-I],isVisible:e,onScrollEnter:r("emptyFunction"),onUsernameClick:r("emptyFunction"),position:i-I})]},v[i-I])},l.jsxs(l.Fragment,{children:[l.jsx(r("PolarisIGVirtualList.react"),{containerSize:i,estimatedItemSize:g,initialRenderCount:S,itemCount:v.length+I||S+I,onScroll:s,pageletName:"user_list",ref:C,renderer:e,style:x&&0===v.length?{overflowY:"hidden"}:{}}),x&&l.jsx(r("IGDSBox.react"),{alignItems:"center",marginTop:4,position:"relative",children:l.jsx(r("IGDSSpinner.react"),{size:"medium"})})]})}var l=i("react"),c=(t=i("react")).useEffect,d=t.useState,u=10,g=65;e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisStoryViewerSliderSummary.react",["fbt","IGDSBox.react","IGDSText.react","PolarisStoryViewerSlider.react","react"],function(e,t,r,i,o,s,a,n){"use strict";function e(e){var t,i;return t=null!=(t=null==(e=e.storySlider)?void 0:e.emoji)?t:"",i=null!=(i=null==e?void 0:e.slider_vote_average)?i:0,e=null!=(e=null==e?void 0:e.slider_vote_count)?e:0,l.jsxs("div",{className:"x2b8uid x1cnzs8 x1pi30zi xx6bls6 x1swvt13 xyorhqc x78zum5 xdt5ytf xl56j7k x6s0dn4",children:[l.jsx(r("IGDSBox.react"),{paddingY:4,position:"relative",children:l.jsx(r("PolarisStoryViewerSlider.react"),{emoji:t,showFloatingEmoji:!0,value:i,width:c})}),l.jsx(r("IGDSText.react").Body,{color:"secondaryText",children:n._({"*":"{storySliderVoteCount} people answered. This is the average answer.",_1:"1 person answered. This is the average answer."},[n._plural(e,"storySliderVoteCount",e)])})]})}var l=i("react"),c=214;e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisStoryViewerList.react",["fbt","IGDSBox.react","IGDSText.react","PolarisIGCoreSheetOrModal","PolarisReactRedux","PolarisStoriesProvider.react","PolarisStoryActions","PolarisStorySliderUserList.react","PolarisStoryViewerSliderSummary.react","PolarisUA","react"],function(e,t,r,i,o,s,a,n){"use strict";function e(e){var t=e.avatarSize,o=void 0===t?"small":t,s=e.canLoadMoreViewers,a=e.currentPost,h=void 0===(t=e.hideStoryRings)||t,S=void 0===(t=e.initialRenderCount)?i("PolarisStoryActions").STORY_VIEWERS_FETCH_COUNT_DEFAULT:t,x=e.isLoading,P=e.onLoadStorySliderVoters,m=e.storyViewers,p=(t=i("PolarisStoriesProvider.react").useStoriesContext()).updateStoriesContext,I=i("PolarisReactRedux").useDispatch(),f=function(e){!x&&s&&0===e.numScreensFromEnd&&e.numScreensFromStart>0&&I(i("PolarisStoryActions").loadStoryViewers({itemId:a.id}))},y=function(){var e;P(a.id,null!=(e=null==(e=a.storySliderVoterInfos)?void 0:null==(e=e[0])?void 0:e.slider_id)?e:"")};return e=c(function(){p({isStoryViewerListActive:!1})},[p]),d(function(){!x&&s&&I(i("PolarisStoryActions").loadStoryViewers({itemId:a.id}))},[a,x,s,I]),t=function(e){var t,i;e-=g,t=null!=(t=null==(t=a.storySliders)?void 0:t[0].slider_sticker)?t:null;var s=null!=(i=null!=(i=null==(i=a.storySliderVoterInfos)?void 0:null==(i=i[0])?void 0:i.voters)?i:null)?i.length:0;return 0===m.length?l.jsx(r("IGDSBox.react"),{alignItems:"center",height:e,justifyContent:"center",position:"relative",children:l.jsx(r("IGDSText.react").Body,{color:"secondaryText",children:n._("No one has seen this yet.")})}):l.jsx(r("PolarisStorySliderUserList.react"),{avatarSize:o,containerSize:x?e-u:e,currentPost:a,entryPoint:"story_viewer_list",hideStoryRings:h,initialRenderCount:S,isLoading:x,likers:new Set(m.filter(function(e){return e.hasLiked}).map(function(e){return e.user.id})),moreSliderVotersButton:null!=(e=null==(e=a.storySliderVoterInfos)?void 0:null==(e=e[0])?void 0:e.more_available)&&e,onLoadStorySliderVoters:y,onScroll:f,storySliderVoterCount:s,storySliderVoters:null!=(e=null==i?void 0:i.map(function(e){var t;return{vote:null!=(t=e.vote)?t:0,id:null!=(t=e.user)?t:"",ts:null!=(t=e.ts)?t:0}}))?e:[],topComponent:null!=t&&l.jsx(r("PolarisStoryViewerSliderSummary.react"),{storySlider:t}),userIds:m.map(function(e){return e.user.id})})},l.jsx(i("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:e,stops:["50%","100%"],title:n._("Viewers"),children:i("PolarisUA").isMobile()?t:t(i("PolarisIGCoreSheetOrModal").DEFAULT_CONTAINER_MAX_HEIGHT)})}var l=i("react"),c=(t=i("react")).useCallback,d=t.useEffect,u=48,g=44;e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98),__d("PolarisStoryModals.react",["PolarisCloseFriendsInfoDialog.react","PolarisExclusiveStoryInfoDialog.react","PolarisGroupProfileUtils","PolarisReactRedux","PolarisSponsoredStoryCaptionModal.react","PolarisStoriesProvider.react","PolarisStoryActions","PolarisStoryOptionsModalPicker.react","PolarisStoryViewerList.react","cr:5001","nullthrows","polarisStorySelectors","react","usePolarisAnalyticsContext"],function(e,t,r,i,o,s,a){"use strict";function e(e){e=r("usePolarisAnalyticsContext")();var o=i("PolarisReactRedux").useDispatch(),s=i("PolarisReactRedux").useSelector(i("polarisStorySelectors").getCurrentReel),a=i("PolarisReactRedux").useSelector(i("polarisStorySelectors").getCurrentReelOwner),c=i("PolarisReactRedux").useSelector(function(e){return e.stories.currentTrayOrder.indexOf(null==s?void 0:s.id)}),d=i("PolarisReactRedux").useSelector(function(e){return e.stories.currentReelItemIndex}),u=i("PolarisReactRedux").useSelector(i("polarisStorySelectors").getCurrentPostId),g=i("PolarisReactRedux").useSelector(function(e){return e.posts.byId.get(null!=(e=u)?e:"")}),h=i("PolarisReactRedux").useSelector(i("polarisStorySelectors").getCurrentPostAuthor),S=i("PolarisReactRedux").useSelector(function(e){return e.stories.traySession}),x=i("PolarisReactRedux").useSelector(function(e){return e.users.viewerId}),P=i("PolarisReactRedux").useSelector(function(e){return e.stories.viewerSession}),m=(null==s?void 0:s.userId)===x||i("PolarisGroupProfileUtils").getIsUserGroupProfile(a)&&(null==g?void 0:g.ownerId)===x,p=i("PolarisReactRedux").useSelector(function(e){return e.stories.isLoadingStoryViewers}),I=i("PolarisReactRedux").useSelector(function(e){return e.stories.isLoading||(null==s?void 0:s.isLoading)||null!=u&&i("polarisStorySelectors").getStoryViewersPageInfoById(e,u).has_next_page}),f=l(function(e,t){o(i("PolarisStoryActions").loadStorySliderVoters({itemId:e,sliderId:t}))},[o]),y=i("PolarisStoriesProvider.react").useStoriesContext(),v=y.isCaptionModalActive,C=y.isCloseFriendsDialogActive,_=y.isExclusiveStoryDialogActive,T=y.isHighlightsTrayActive,E=y.isStoryViewerListActive,R=y.updateStoriesContext;return null==g||null==s||null==h||null==(null==a?void 0:a.id)?null:n.jsxs(n.Fragment,{children:[n.jsx(r("PolarisStoryOptionsModalPicker.react"),{analyticsContext:e,currentPost:g,currentReelItemIndex:d,onModalClose:function(){return R({isModalActive:!1})},reel:s,reelPositionInTray:c,traySession:S,user:h,viewerId:x,viewerSession:P,viewingOwnStory:m}),null!=t("cr:5001")&&T&&m&&n.jsx(t("cr:5001"),{currentPost:g}),E&&m&&n.jsx(r("PolarisStoryViewerList.react"),{canLoadMoreViewers:I,currentPost:g,isLoading:p,onLoadStorySliderVoters:f,storyViewers:g.storyViewers||[],traySessionId:S,viewerSessionId:P}),C&&n.jsx(r("PolarisCloseFriendsInfoDialog.react"),{onClose:function(){R({isCloseFriendsDialogActive:!1})},postId:g.id,userId:a.id}),_&&n.jsx(r("PolarisExclusiveStoryInfoDialog.react"),{onClose:function(){R({isExclusiveStoryDialogActive:!1})},username:r("nullthrows")(a.username)}),v&&g.isSponsored&&null!=g.caption&&n.jsx(r("PolarisSponsoredStoryCaptionModal.react"),{caption:g.caption,onClose:function(){R({isCaptionModalActive:!1})}})]})}var n=i("react"),l=i("react").useCallback;e.displayName=e.name+" [from "+s.id+"]",a["default"]=e},98);