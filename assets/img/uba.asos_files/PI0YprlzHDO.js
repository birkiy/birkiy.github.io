__d("IGDSCircleAddPanoOutlineIcon",["IGDSSVGIconBase.react","react"],function(e,t,o,n,i,r,a){"use strict";function e(e){return s.jsxs(o("IGDSSVGIconBase.react"),babelHelpers["extends"]({},e,{viewBox:"0 0 24 24",children:[s.jsx("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"7.001",x2:"17.001",y1:"12.005",y2:"12.005"}),s.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"12.001",x2:"12.001",y1:"7.005",y2:"17.005"})]}))}var s=n("react");e.displayName=e.name+" [from "+r.id+"]",t=s.memo(e),a["default"]=t},98),__d("IGDSEyeOffOutlineIcon",["IGDSEyeOffPanoOutlineIcon","react"],function(e,t,o,n,i,r,a){"use strict";function e(e){return s.jsx(o("IGDSEyeOffPanoOutlineIcon"),babelHelpers["extends"]({},e))}var s=n("react");e.displayName=e.name+" [from "+r.id+"]",t=s.memo(e),a["default"]=t},98),__d("PolarisCommentLikeListsActions",["PolarisCommentLikeListsState","PolarisPaginationUtils","nullthrows"],function(e,t,o,n,i,r,a){"use strict";function e(){return n("PolarisPaginationUtils").generatePaginationActionCreators({pageSize:l,pagesToPreload:m,getState:function(e,t){return e.commentLikeLists.get(t,n("PolarisCommentLikeListsState").EMPTY_LISTS).pagination},queryId:s,queryParams:function(e){return{comment_id:e}},onUpdate:function(e,t,n){return{type:"COMMENT_LIKE_LISTS_REQUEST_UPDATED",fetch:e,commentId:n,count:null==(t=t&&o("nullthrows")(t.comment).edge_liked_by)?void 0:t.count,users:((null==t?void 0:t.edges)||[]).map(function(e){return e.node}),pageInfo:null==t?void 0:t.page_info}},onError:function(e,t,o){return{type:"COMMENT_LIKE_LISTS__REQUEST_FAILED",fetch:t,commentId:o}}})}var s="5f0b1f6281e72053cbc07909c8d154ae",l=24,m=1;i=t=e(),r=t.first,e=t.next,a._actionCreators=i,a.requestCommentLikes=r,a.requestNextCommentLikes=e},98),__d("PolarisPostRemoveCommentsSelectors",["reselect"],function(e,t,o,n,i,r,a){"use strict";function e(e){return e.postRemoveComments}t=n("reselect").createSelector(e,function(e){return e=e.isVisible}),a.getPostRemoveCommentsIsVisible=t},98),__d("PolarisThreadedCommentSelectors",["PolarisPaginationUtils","immutable-4.0.0-rc.9","nullthrows","polarisCreateSelectorWithArg"],function(e,t,o,n,i,r,a){"use strict";function s(e){return!e.deleted&&!e.didReportAsSpam}function e(e,t){return!!(null==(e=e.threadedComments.initialCommentsLoading)?void 0:e.get(t))}t=o("polarisCreateSelectorWithArg")(function(e){return e.posts.byId},function(e){return e.comments.byId},function(e){return e.threadedComments.parentByPostId},function(e,t,i){return function(r){var a=i.get(r);if(r=e.get(r),!a||!r)return n("immutable-4.0.0-rc.9").List();var l=a.commentIds;return a=n("PolarisPaginationUtils").getVisibleCount(a.pagination),r=r.hasRankedComments?0:l.count()-a,l.map(function(e){return o("nullthrows")(t.get(e))}).slice(r,r+a).filter(function(e){return s(e)})}}),i=o("polarisCreateSelectorWithArg")(function(e){return e.comments.byId},function(e){return e.threadedComments.childByParentId},function(e,t){return function(i){var r=(i=o("nullthrows")(t.get(i))).commentIds;return i=i.pagination,i=(r=r.map(function(t){return o("nullthrows")(e.get(t))})).count()-n("PolarisPaginationUtils").getVisibleCount(i),{visibleChildComments:r.slice(i,r.count()).filter(function(e){return s(e)}),remainingCachedShowableChildCommentIds:i=(r=r.slice(0,i).filter(function(e){return s(e)})).map(function(e){return e.id})}}}),r=o("polarisCreateSelectorWithArg")(function(e){return e.comments.byId},function(e){return e.threadedComments.childByParentId},function(e,t){return function(e){return(e=o("nullthrows")(t.get(e))).count||0}}),a.selectVisibleParentCommentsForPostId=t,a.selectChildCommentsForParentIdSplitByVisibility=i,a.getTotalChildCommentCountForParentId=r,a.getThreadedCommentsLoading=e},98),__d("PolarisIgWellbeingRestrictManageCommentFalcoEvent",["PolarisFalcoLogger"],function(e,t,o,n,i,r,a){"use strict";var s={falco:!0,pigeon:!1};t={log:function(e){var t=e.action,o=e.actorIgUserid,i=e.commentId,r=e.commentThreadId,a=e.parentMediaId;e=e.step,n("PolarisFalcoLogger").FalcoLogger.log("ig_wellbeing_restrict_manage_comment",{action:t,actor_ig_userid:parseInt(o,10),comment_id:i?parseInt(i,10):void 0,entrypoint:"comment",parent_comment_id:r===i?void 0:parseInt(r,10),parent_media_id:parseInt(a,10),step:e},{},s)}},a["default"]=t},98),__d("PolarisApproveCommentDialog.react",["fbt","IGCoreDialog","PolarisCommentActions","PolarisGenericStrings","PolarisIgWellbeingRestrictManageCommentFalcoEvent","PolarisReactRedux","react"],function(e,t,o,n,i,r,a,s){"use strict";function l(e){return s._("Only you and {username} can see this comment. If you approve it, it'll be visible to everyone.",[s._param("username",e)])}function e(e,t){return{onApproveClick:function(){e(n("PolarisCommentActions").approveRestrictedComment(t.commentId))}}}var m=n("react"),c=s._("Approve"),d=s._("Approve This Comment?");t=function(e){function t(){for(var t,n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=n=e.call.apply(e,[this].concat(r))||this,n.$1=function(){var e=n.props,t=e.commentId,i=e.commentOwnerId,r=e.commentThreadId;e=e.postId,o("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:i,commentId:t,commentThreadId:r,parentMediaId:e,step:"approval_page_approve_this_comment"}),n.props.onApproveClick(),n.props.onClose()},n.$2=function(){var e=n.props,t=e.commentId,i=e.commentOwnerId,r=e.commentThreadId;e=e.postId,o("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:i,commentId:t,commentThreadId:r,parentMediaId:e,step:"approval_page_cancel"}),n.props.onClose()},t||babelHelpers.assertThisInitialized(n)}return babelHelpers.inheritsLoose(t,e),t.prototype.render=function(){var e=this.props.commentOwnerUsername;return m.jsxs(n("IGCoreDialog").IGCoreDialog,{body:l(e),onModalClose:this.props.onClose,title:d,children:[m.jsx(n("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$1,children:c}),m.jsx(n("IGCoreDialog").IGCoreDialogItem,{onClick:this.$2,children:n("PolarisGenericStrings").CANCEL_TEXT})]})},t}(m.Component),i=n("PolarisReactRedux").connect(null,e)(t),a.APPROVE_COMMENT_CTA=c,a.ApproveCommentDialog=i},98),__d("PolarisCommentCover.react",["fbt","BaseButton.react","IGDSBox.react","IGDSEyeOffOutlineIcon","IGDSText.react","PolarisReactRedux","PolarisThreadedCommentActions","PolarisWellbeingCommentCoverFalcoEvent","react","usePartialViewImpression"],function(e,t,o,n,i,r,a,s){"use strict";function e(e){var t=e.nuxSeenCounter,i=e.onClick,r=e.postId,a=n("PolarisReactRedux").useDispatch(),m=(e=d(!1))[0],C=e[1],h=(e=d(!1))[0],g=e[1];e=p(function(){return g(!0)}),c(function(){t<=2&&C(!0)},[t]),c(function(){h&&(a(n("PolarisThreadedCommentActions").incrementCommentCoverSeenCounter()),n("PolarisWellbeingCommentCoverFalcoEvent").logCommentCover({action:"impression",mediaId:r,step:"comment_cover_cta_impression"}),m&&n("PolarisWellbeingCommentCoverFalcoEvent").logCommentCover({action:"impression",mediaId:r,step:"comment_cover_nux_impression"}))},[h,a,r,m]);var I=function(){n("PolarisWellbeingCommentCoverFalcoEvent").logCommentCover({action:"click",mediaId:r,step:m?"comment_cover_cta_with_nux_click":"comment_cover_cta_without_nux_click"}),i()};return l.jsxs(o("IGDSBox.react"),{containerRef:e,direction:"column",marginStart:12,children:[l.jsxs(o("IGDSBox.react"),{alignItems:"center",direction:"row",marginBottom:4,children:[l.jsx(o("IGDSEyeOffOutlineIcon"),{alt:s._("View hidden comments"),color:"ig-secondary-text",size:15}),l.jsx(o("IGDSBox.react"),{marginStart:2,children:l.jsx(o("BaseButton.react"),{onClick:I,xstyle:u.viewHiddenCommentsButton,children:l.jsx(o("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"medium",children:s._("View hidden comments")})})})]}),m&&l.jsx(o("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"light",children:s._("These comments were hidden because they may be misleading, offensive or spam. People can still tap to view them.")})]})}var l=n("react"),m=(t=n("react")).useCallback,c=t.useEffect,d=t.useState,u={viewHiddenCommentsButton:{userSelect:"x87ps6o",":active_opacity":"x1d5wrs8",$$css:!0}},p=function(e){var t=m(function(){e()},[e]);return o("usePartialViewImpression")({onImpressionStart:t})};e.displayName=e.name+" [from "+r.id+"]",a["default"]=e},98),__d("PolarisCommentOptionsDialog.react",["fbt","IGCoreDialog","PolarisFRXReportModal.react","PolarisGenericStrings","PolarisReportConstants","PolarisReportUnderLawDialogItem.react","polarisIsUserLoggedIn","react"],function(e,t,o,n,i,r,a,s){"use strict";function e(e){var t=e.canDeleteComment,i=e.canPinComment;i=void 0!==i&&i;var r=e.commentId,a=e.commentOwnerAvatar,c=e.commentOwnerFbidV2,d=e.commentOwnerId,u=e.commentOwnerUsername,p=e.mediaOwnerId,C=e.onClose,h=e.onDelete;e=e.onPin;var g=m(!1),I=g[0],P=g[1];g=function(){P(!0)};var f=function(){C(),P(!1)},v=function(){h(),C()};return I?l.jsx(o("PolarisFRXReportModal.react"),{frxLocation:n("PolarisReportConstants").FRXLocation.COMMENTS,frxObjectType:n("PolarisReportConstants").FRXObjectType.COMMENT,onClose:f,reportedObjectID:r,reportedOwner:{id:d,fbidV2:c,username:u,profilePicURL:a},useSimpleBlockModalWithoutRefresh:d===p}):(I=n("polarisIsUserLoggedIn").isUserLoggedIn()?l.jsx(n("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:g,children:s._("Report")}):l.jsx(n("PolarisReportUnderLawDialogItem.react").ReportUnderLawDialogItem,{contentId:r}),l.jsxs(n("IGCoreDialog").IGCoreDialog,{onModalClose:f,children:[I,i&&l.jsx(n("IGCoreDialog").IGCoreDialogItem,{color:"ig-secondary-button",onClick:e,children:s._("Pin comment")}),t&&l.jsx(n("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:v,children:s._("Delete")}),l.jsx(n("IGCoreDialog").IGCoreDialogItem,{onClick:f,children:n("PolarisGenericStrings").CANCEL_TEXT})]}))}var l=n("react"),m=n("react").useState;e.displayName=e.name+" [from "+r.id+"]",a["default"]=e},98),__d("PolarisPostGifComment.react",["IGDSBox.react","PolarisODS","PolarisPostStrings","react"],function(e,t,o,n,i,r,a){"use strict";function e(e){e=e.gifSrc,l(function(){o("PolarisODS").incr("web.comments.gif_comment.view_impression")},[e]);var t=function(){o("PolarisODS").incr("web.comments.gif_comment.img_error")};return s.jsx(o("IGDSBox.react"),{marginTop:2,children:s.jsx("img",{alt:n("PolarisPostStrings").GIF_COMMENT_ALT_TEXT,className:"x107yiy2 xv8uw2v x1tfwpuw x2g32xy",onError:t,src:e})})}var s=n("react"),l=n("react").useEffect;e.displayName=e.name+" [from "+r.id+"]",a["default"]=e},98),__d("PolarisUnhideCommentDialog.react",["fbt","IGCoreDialog","PolarisCommentActions","PolarisGenericStrings","PolarisReactRedux","PolarisWellbeingCommentCoverFalcoEvent","react"],function(e,t,o,n,i,r,a,s){"use strict";function e(e){var t=e.commentId,o=e.onClose,i=e.postId,r=e.postOwnerId,a=n("PolarisReactRedux").useDispatch();e=function(){a(n("PolarisCommentActions").unhideCoveredComment(t,i,r)),n("PolarisWellbeingCommentCoverFalcoEvent").logCommentCover({action:"click",commentId:t,mediaId:i,step:"unhide_comment_confirm"}),o()};var m=function(){o()};return l.jsxs(n("IGCoreDialog").IGCoreDialog,{onModalClose:m,title:"Unhide comment?",children:[l.jsx(n("IGCoreDialog").IGCoreDialogItem,{color:"ig-secondary-button",onClick:e,children:s._("Unhide")}),l.jsx(n("IGCoreDialog").IGCoreDialogItem,{onClick:m,children:n("PolarisGenericStrings").CANCEL_TEXT})]})}var l=n("react");e.displayName=e.name+" [from "+r.id+"]",a["default"]=e},98),__d("PolarisPostComment.react",["cx","fbt","IGDSBox.react","IGDSButton.react","IGDSMoreHorizontalPanoOutlineIcon","IGDSText.react","PolarisApproveCommentDialog.react","PolarisCommentActions","PolarisCommentLikeListsActions","PolarisCommentOptionsDialog.react","PolarisCommentTranslationPrompt.react","PolarisConfig","PolarisDoubleTappable","PolarisEngagementLogger","PolarisFastLink.react","PolarisIGCoreConstants","PolarisIGCoreSVGIconButton","PolarisIGCoreVerifiedBadge","PolarisIgWellbeingRestrictManageCommentFalcoEvent","PolarisLikeButton.react","PolarisLinkBuilder","PolarisNavigationActions","PolarisPendingCommentActions","PolarisPostCaptionTranslationPrompt.react","PolarisPostGifComment.react","PolarisPostStrings","PolarisPostVariants","PolarisReactRedux","PolarisTimestamp.react","PolarisTruncatedText.react","PolarisUA","PolarisUnhideCommentDialog.react","PolarisUserAvatarWithStories.react","PolarisUserHoverCard.react","PolarisUserText.react","PolarisViewpointReact.react","PolarisWellbeingCommentCoverFalcoEvent","gkx","joinClasses","nullthrows","polarisPostSelectors","polarisUserSelectors","react"],function(e,t,o,n,i,r,a,s,l){"use strict";function m(e){var t=e.parentProps,i=t.commentOwnerId,r=t.commentOwnerUsername,a=t.isAuthorVerified,s=t.isCaption,l=t.isRestrictedPending,m=t.postOwnerIsUnpublished;t=t.showRichComment;var c=s?"h2":"h3";return(e=l&&!e.parentState.showRestrictedContent)?d.jsx(o("IGDSBox.react"),{marginBottom:1,position:"relative",children:d.jsx(o("IGDSText.react"),{color:"tertiaryText",size:"body",weight:"semibold",children:n("PolarisPostStrings").RESTRICTED_ACCOUNT_HEADER_TEXT})}):s&&m?null:d.jsxs(c,{className:"_a9zc"+(!0===l?" _a9zd":""),children:[d.jsx(o("IGDSBox.react"),{marginEnd:1,position:"relative",children:d.jsx(o("PolarisUserHoverCard.react"),{display:"inline",triggerAnalyticsContext:"post_commenter",userId:i,children:d.jsx(o("IGDSButton.react"),{display:"block",href:n("PolarisLinkBuilder").buildUserLink(o("nullthrows")(r)),label:o("nullthrows")(r),variant:"secondary_link"})})}),t&&a&&d.jsx(o("IGDSBox.react"),{marginEnd:1,position:"relative",children:d.jsx(o("PolarisIGCoreVerifiedBadge"),{size:"small"})})]})}function c(e){var t=(e=e.parentProps).captionCreatedAt,i=e.commentThreadId,r=e.disableTimestampNav,a=e.id,s=e.isCaption,l=e.isEdited,m=e.postedAt;return e=e.postShortcode,s=d.jsx(o("PolarisTimestamp.react"),{className:"_a9ze _a9zf",value:s&&l&&null!=t?t:m}),e&&a&&(l=i&&i!==a?n("PolarisLinkBuilder").buildReplyPermalink(e,i,a,n("PolarisUA").isMobile()):n("PolarisLinkBuilder").buildCommentPermalink(e,a,n("PolarisUA").isMobile()),t=!0===r?function(e){return e.preventDefault()}:void 0,s=d.jsx(o("PolarisFastLink.react"),{className:"_a9zg",href:l,onClick:t,children:s})),s}function e(e,t){var i=t.commentOwnerId,r=t.postId,a=t.postOwnerId;return i=n("polarisUserSelectors").getUserById(e,i),r=n("polarisPostSelectors").getPostOrNullById(e,r),null==(t=t.id)&&(t=null==r?void 0:r.captionCommentId),{commentOwnerAvatar:i.profilePictureUrl,commentOwnerId:o("nullthrows")(i.id),commentOwnerUsername:o("nullthrows")(i.username),postOwnerIsUnpublished:n("polarisUserSelectors").getUserById(e,a).isUnpublished,postShortcode:r&&r.code||null,viewerId:e.users.viewerId,translation:t?e.comments.translationById.get(t):null}}function t(e,t){var i={commentAuthorId:t.commentOwnerId,commentId:t.id,containerModule:t.analyticsContext,mediaAuthorId:t.postOwnerId,mediaId:t.id,mediaType:t.mediaType};return{fetchCommentLikes:function(){return e(n("PolarisCommentLikeListsActions").requestCommentLikes(o("nullthrows")(t.id)))},onDeleteComment:function(){return e(n("PolarisCommentActions").deleteComment(t.postId,t.id||""))},onLikeComment:function(t){return e(n("PolarisCommentActions").likeComment(babelHelpers["extends"]({},i,{userId:t||""})))},onLoggedOutIntentClick:function(t){e(n("PolarisNavigationActions").openLoggedOutIntentDialog(t))},onLoggedOutIntentClickLoginModal:function(t,o,i){var r=n("PolarisUA").isDesktop()||n("PolarisConfig").isNetzDGEligible()?"feature_wall":"content_wall";e(n("PolarisNavigationActions").openLoginModal(r,t,o,i,!0,t))},onReplyClick:function(i){return e(n("PolarisPendingCommentActions").changePendingComment(t.postId,"@"+(i||"")+" ",o("nullthrows")(t.commentThreadId),t.commentOwnerId,i))},onUnlikeComment:function(t){return e(n("PolarisCommentActions").unlikeComment(babelHelpers["extends"]({},i,{userId:t||""})))}}}function i(e,t,o){return babelHelpers["extends"]({},e,t,o,{onLikeComment:function(){return t.onLikeComment(e.viewerId)},onReplyClick:function(){return t.onReplyClick(e.commentOwnerUsername)},onUnlikeComment:function(){return t.onUnlikeComment(e.viewerId)}})}var d=n("react"),u=750;m.displayName=m.name+" [from "+r.id+"]",(s=function(e){function t(){for(var t,i,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t=i=e.call.apply(e,[this].concat(a))||this,i.state={showApproveCommentDialog:!1,showCommentOptionsDialog:!1,showRestrictedContent:!1,showUnhideDialog:!1},i.$3=function(){i.setState({showCommentOptionsDialog:!0})},i.$4=function(){n("PolarisUA").isMobile()&&i.props.showRichComment&&!i.props.isCaption&&(i.$1=window.setTimeout(i.$3,u))},i.$2=function(){window.clearTimeout(i.$1)},i.$5=function(){i.setState({showCommentOptionsDialog:!1})},i.$6=function(){i.setState({showCommentOptionsDialog:!1}),i.props.onDeleteComment()},i.$7=function(){var e=i.props,t=e.id;(e=e.onDeleteCommentClick)&&e(o("nullthrows")(t))},i.$8=function(e){var t=i.props,o=t.onLikeComment;t=t.onUnlikeComment,e?o():t()},i.$9=function(){var e=i.props,t=e.isRestrictedPending,o=e.likedByViewer;e=e.onLikeComment,!o&&!t&&e()},i.$10=function(){var e=i.props,t=e.code,r=e.fetchCommentLikes,a=e.id,s=e.loggedIn,l=e.onLikeCountClick,m=e.onLoggedOutIntentClick;e=e.onLoggedOutIntentClickLoginModal,s?l&&(r(),l(o("nullthrows")(a))):(s="post_comment_like_count",n("PolarisUA").isDesktop()?e(n("PolarisLinkBuilder").buildMediaLink(o("nullthrows")(t)),s):m(s))},i.$11=function(e){var t=i.props,r=t.analyticsContext,a=t.commentOwnerId,s=t.commentThreadId,l=t.id,m=t.isCovered,c=t.isRestrictedPending,d=t.mediaType,u=t.postId,p=t.postOwnerId;switch(t=t.viewerId,e.state){case"entered":if(null!=l&&null!=t)return n("PolarisEngagementLogger").logCommentImpression({commentId:l,commentAuthorId:a,commentThreadId:s,containerModule:r,isCovered:m,mediaId:u,mediaAuthorId:p,mediaType:d}),void(c&&o("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"impression",actorIgUserid:a,commentId:l,commentThreadId:s,parentMediaId:u,step:"pending_comment"}))}},i.$12=function(){var e=i.props,t=e.code,r=e.loggedIn,a=e.onLoggedOutIntentClick,s=e.onLoggedOutIntentClickLoginModal;e=e.onReplyClick,r?e():(r="post_comment_reply",n("PolarisUA").isDesktop()?s(n("PolarisLinkBuilder").buildMediaLink(o("nullthrows")(t)),r):a(r))},i.$13=function(){var e=i.props,t=e.commentOwnerId,n=e.commentThreadId,r=e.id;e=e.postId,o("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:t,commentId:r,commentThreadId:n,parentMediaId:e,step:"pending_comment_see_hidden"}),i.setState({showRestrictedContent:!0})},i.$14=function(){var e=i.props,t=e.commentOwnerId,n=e.commentThreadId,r=e.id;e=e.postId,o("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:t,commentId:r,commentThreadId:n,parentMediaId:e,step:"pending_comment_approve"}),i.setState({showApproveCommentDialog:!0})},i.$15=function(){i.setState({showApproveCommentDialog:!1})},i.$16=function(){i.setState({showUnhideDialog:!1})},i.$17=function(){var e=i.props,t=e.commentOwnerId,n=e.commentThreadId,r=e.id;e=e.postId,o("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:t,commentId:r,commentThreadId:n,parentMediaId:e,step:i.state.showRestrictedContent?"pending_comment_delete":"pending_comment_delete_hidden"}),i.$7()},i.$18=function(){var e=i.props,t=e.id;e=e.postId,n("PolarisWellbeingCommentCoverFalcoEvent").logCommentCover({action:"click",commentId:t,mediaId:e,step:"unhide_comment_click"}),i.setState({showUnhideDialog:!0})},i.$19=function(){var e=i.props,t=e.code,r=e.id,a=e.likeCount;if(e=e.loggedIn,!a)return null;var s=a.toLocaleString(),m=l._("{like count} like",[l._param("like count",s)]);return s=l._("{like count} likes",[l._param("like count",s)]),m=1===a?m:s,a>0&&(n("PolarisUA").isDesktop()||!e?d.jsx("button",{className:"_a9ze",onClick:i.$10,children:d.jsx(o("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:m})}):d.jsx(o("PolarisFastLink.react"),{className:"_a9ze",href:"/p/"+o("nullthrows")(t)+"/c/"+o("nullthrows")(r)+"/liked_by/",children:m}))},t||babelHelpers.assertThisInitialized(i)}babelHelpers.inheritsLoose(t,e);var i=t.prototype;return i.componentWillUnmount=function(){this.$2()},i.render=function(){var e=this,t=this.props,i=t.className,r=t.commentingDisabledForViewer,a=t.commentOwnerAvatar,s=t.commentOwnerId,l=t.commentOwnerUsername,u=t.commentThreadId,p=t.customPaddingStyle,C=t.giphyMediaInfo,h=t.hideUserAvatar,g=t.id,I=t.isCaption,P=t.isCovered,f=t.isEdited,v=t.isPermalinkedComment,x=t.isRestrictedPending,k=t.likedByViewer,w=t.postId,_=t.postOwnerId,T=t.postOwnerIsUnpublished,y=t.reducedAvatarMargin,S=t.showCommentOptionsInline,D=t.showRemoveIcon,A=t.showRichComment,R=t.translation,b=t.variant,L=t.viewerId,j=this.props.text.toString();!0===(null==R?void 0:R.showTranslatedText)&&null!=R.translatedText&&(j=R.translatedText);var M=!I&&L&&(L===s||_===L),O=M&&D&&!A,N=!(I||!L||O||x),G=(t=n("PolarisConfig").isNetzDGEligible()&&v)||A&&!n("PolarisUA").isMobile()&&!I&&null!=L,E=b===n("PolarisPostVariants").VARIANTS.feed?o("PolarisTruncatedText.react"):o("PolarisUserText.react"),U=!!I||!N&&!M,B=x&&!this.state.showRestrictedContent,$=x&&this.state.showRestrictedContent,V=(R=null!=C)?null==C?void 0:null==(D=C.images)?void 0:null==(v=D.fixed_height)?void 0:v.url:void 0,z=d.jsx("div",{className:!0===S?"_a9ze":"",children:d.jsx("div",{className:(!0!==S?"_a9zh":"")+(!0===S?" _a9zi":""),children:d.jsx(o("PolarisIGCoreSVGIconButton"),{onClick:this.$3,children:d.jsx(o("IGDSBox.react"),{alignItems:"center",height:24,justifyContent:"center",position:"relative",width:24,children:d.jsx(o("IGDSMoreHorizontalPanoOutlineIcon"),{alt:n("PolarisPostStrings").COMMENT_OPTIONS_ALT_TEXT,color:"ig-secondary-text"})})})})});return d.jsx(n("PolarisViewpointReact.react").Viewpoint,{action:this.$11,id:j.replace(" ","-"),children:function(t){return d.jsxs(n("PolarisDoubleTappable").DoubleTappable,{onDoubleClick:e.$9,role:"button",children:[d.jsx("li",{className:o("joinClasses")((A?"_a9zj":"")+("compact"===p?" _a9zk":"")+" _a9zl",i),onMouseDown:e.$4,onMouseUp:e.$2,onTouchEnd:e.$2,onTouchMove:e.$2,onTouchStart:e.$4,ref:t,children:d.jsxs("div",{className:"_a9zm",children:[d.jsxs("div",{className:(U?"_a9zn":"")+" _a9zo",children:[A&&!h&&d.jsx(o("PolarisUserHoverCard.react"),{display:"block",triggerAnalyticsContext:"post_commenter_avatar",userId:s,children:d.jsx(o("PolarisUserAvatarWithStories.react"),{className:"_a9zp"+(!0===y?" _a9zq":"")+(!0===x?" _a9zd":""),isLink:!T,profilePictureUrl:null!=(t=a)?t:"",size:o("PolarisIGCoreConstants").AVATAR_SIZES.small,storyEntrypoint:"post_comment",username:l})}),d.jsxs("div",{className:"_a9zr",children:[d.jsx(m,{parentProps:e.props,parentState:e.state}),!B&&(null!=V?d.jsx(o("PolarisPostGifComment.react"),{gifSrc:V}):d.jsx("div",{className:"_a9zs"+(!0===x?" _a9zd":""),"data-testid":void 0,children:d.jsx(E,{display:"inline",headlineTag:!0===I?"h1":void 0,size:"body",value:j})})),A&&d.jsx(o("IGDSBox.react"),{marginBottom:1,marginTop:2,position:"relative",children:d.jsxs(o("IGDSText.react").Body2,{color:"secondaryText",children:[I&&f&&d.jsxs(d.Fragment,{children:[n("PolarisPostStrings").CAPTION_EDITED_TEXT,"\xa0\xb7\xa0"]}),d.jsx(c,{parentProps:e.props}),I&&d.jsx(o("IGDSBox.react"),{display:"inlineBlock",position:"relative",children:d.jsx(o("PolarisPostCaptionTranslationPrompt.react"),{postId:w})}),!I&&!x&&d.jsxs(d.Fragment,{children:[e.$19(),!0!==r&&d.jsx("button",{className:"_a9ze",onClick:e.$12,children:d.jsx(o("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:n("PolarisPostStrings").REPLY_TEXT})}),o("gkx")("3006")&&P&&_===L&&d.jsx("button",{className:"_a9ze",onClick:e.$18,children:d.jsx(o("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:n("PolarisPostStrings").UNHIDE_TEXT})}),g&&d.jsx(o("IGDSBox.react"),{display:"inlineBlock",marginEnd:2,position:"relative",children:d.jsx(o("PolarisCommentTranslationPrompt.react"),{commentId:g})}),G&&!0===S&&z]}),B&&d.jsx("button",{className:"_a9ze",onClick:e.$13,children:d.jsx(o("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:n("PolarisPostStrings").RESTRICT_SEE_COMMENT_TEXT})}),$&&d.jsx("button",{className:"_a9ze",onClick:e.$14,children:d.jsx(o("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:n("PolarisApproveCommentDialog.react").APPROVE_COMMENT_CTA})}),x&&d.jsx("button",{className:"_a9ze",onClick:e.$17,children:d.jsx(o("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:n("PolarisPostStrings").RESTRICT_DELETE_COMMENT_TEXT})})]})})]})]}),O&&d.jsx("button",{className:"_a9zt",onClick:e.$7,title:n("PolarisPostStrings").DELETE_COMMENT_TEXT,children:d.jsx(o("IGDSText.react"),{color:"tertiaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:n("PolarisPostStrings").DELETE_COMMENT_TEXT})}),G&&!S&&z,N&&d.jsx(o("PolarisLikeButton.react"),{className:"_a9zu",isLiked:!!k,large:!1,onChange:e.$8})]})}),e.state.showUnhideDialog&&g&&d.jsx(o("PolarisUnhideCommentDialog.react"),{commentId:g,onClose:e.$16,postId:w,postOwnerId:_}),e.state.showCommentOptionsDialog&&g&&d.jsx(o("PolarisCommentOptionsDialog.react"),{canDeleteComment:!!M,commentId:g,commentOwnerAvatar:null!=(t=a)?t:"",commentOwnerId:s,commentOwnerUsername:l,mediaOwnerId:_,onClose:e.$5,onDelete:e.$6}),e.state.showApproveCommentDialog&&g&&d.jsx(n("PolarisApproveCommentDialog.react").ApproveCommentDialog,{commentId:g,commentOwnerId:s,commentOwnerUsername:l,commentThreadId:u,onClose:e.$15,postId:w})]})}})},t}(d.PureComponent)).defaultProps={showRichComment:!1},r=n("PolarisReactRedux").connect(e,t,i)(s),a["default"]=r},98),__d("PolarisCommentThread.react",["cx","fbt","IGDSBox.react","IGDSSpinner.react","PolarisIGCoreButton","PolarisInteractionsLogger","PolarisPaginationUtils","PolarisPostComment.react","PolarisPostVariants","PolarisReactRedux","PolarisThreadedCommentActions","PolarisThreadedCommentSelectors","nullthrows","polarisCommentReducer","polarisIsUserLoggedIn","react"],function(e,t,o,n,i,r,a,s,l){"use strict";function m(e){var t=e.childComment,i=e.disableTimestampNav,r=(e=e.parentProps).analyticsContext,a=e.code,s=e.commentingDisabledForViewer,l=e.hideUserAvatar,m=e.loggedIn,d=e.onDeleteCommentClick,u=e.onLikeCountClick,p=e.parentComment,C=e.postId,h=e.postOwnerId,g=e.reducedAvatarMargin,I=e.showCommentOptionsInline;return e=e.showRemoveIcon,c.jsx(o("PolarisPostComment.react"),{analyticsContext:r,className:"_a9ye",code:a,commentingDisabledForViewer:s,commentOwnerId:t.userId,commentThreadId:p.id,disableTimestampNav:i,giphyMediaInfo:t.giphyMediaInfo,hideUserAvatar:!!l,id:t.id,isAuthorVerified:t.isAuthorVerified,isRestrictedPending:t.isRestrictedPending,likeCount:t.likeCount,likedByViewer:t.likedByViewer,loggedIn:m,onDeleteCommentClick:d,onLikeCountClick:u,postedAt:t.postedAt,postId:C,postOwnerId:h,reducedAvatarMargin:g,showCommentOptionsInline:I,showRemoveIcon:e,showRichComment:!0,text:t.text,variant:n("PolarisPostVariants").VARIANTS.flexible},t.id)}function e(e,t){var o=t.parentComment;t=t.permalinkedReplyId;var i=n("PolarisThreadedCommentSelectors").selectChildCommentsForParentIdSplitByVisibility(e,o.id),r=i.remainingCachedShowableChildCommentIds;i=i.visibleChildComments;var a=n("PolarisThreadedCommentSelectors").getTotalChildCommentCountForParentId(e,o.id);o=(o=e.threadedComments.childByParentId.get(o.id,n("polarisCommentReducer").EMPTY_POST_COMMENTS_STATE)).pagination;var s=null;return null!=t&&""!==t&&(s=e.comments.byId.get(t)),{childCommentsCacheCanShowMoreWithoutFetch:n("PolarisPaginationUtils").getVisibleCount(o)<n("PolarisPaginationUtils").getLoadedCount(o),childCommentsCanFetchMorePagination:n("PolarisPaginationUtils").canFetchMorePagination(o),childCommentsHasNextPage:n("PolarisPaginationUtils").hasNextPage(o),childCommentsIsFetching:n("PolarisPaginationUtils").isFetching(o),permalinkedReply:s,remainingCachedShowableChildCommentIds:r,totalChildCommentCount:a||0,visibleChildComments:i}}var c=n("react");m.displayName=m.name+" [from "+r.id+"]",t=function(e){function t(){for(var t,o,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=o=e.call.apply(e,[this].concat(r))||this,o.state={hasPermalinkedReplyBeenHidden:!1},o.$3=function(e){var t=o.props,i=t.analyticsContext,r=t.childCommentsCacheCanShowMoreWithoutFetch,a=t.childCommentsIsFetching,s=t.hideReplies,l=t.loadChildComments,m=t.loadChildCommentsV2,c=t.onHidePermalinkReply,d=t.parentComment,u=d.id;d=d.userId;var p=t.permalinkedReply,C=t.postId,h=t.postOwnerId;t=t.showReplies,a||(e?(s(u),n("PolarisInteractionsLogger").logInteractionAction({eventName:"instagram_child_comments_collapse",commentAuthorId:d,commentId:u,containerModule:i,mediaAuthorId:h,mediaId:C}),null!=p&&(null!=c&&c(),o.setState({hasPermalinkedReplyBeenHidden:!0}))):r?t(u):n("polarisIsUserLoggedIn").isUserLoggedIn()?m(C,u):l(u))},t||babelHelpers.assertThisInitialized(o)}babelHelpers.inheritsLoose(t,e);var i=t.prototype;return i.componentDidUpdate=function(e){(e.parentComment.id!==this.props.parentComment.id||e.permalinkedReplyId!==this.props.permalinkedReplyId)&&this.setState({hasPermalinkedReplyBeenHidden:!1})},i.$1=function(){var e=this.props,t=e.childCommentsCacheCanShowMoreWithoutFetch,o=e.childCommentsCanFetchMorePagination,n=e.childCommentsHasNextPage,i=e.permalinkedReply;return e=e.remainingCachedShowableChildCommentIds,null!=i&&!0===n&&!0===t&&!0!==o&&1===e.count()&&e.get(0)===i.id},i.$2=function(e){return!0!==this.props.childCommentsHasNextPage||e&&this.$1()},i.$4=function(e,t){var n=this,i=this.props,r=i.childCommentsIsFetching,a=i.replyPagerNodeRef;i=i.totalChildCommentCount;var s=this.$2(t),m=t?1:0;return i-=m=e+m,m=s&&!r?l._("Hide replies"):i<=0?l._("View replies"):l._("View replies ({hidden replies})",[l._param("hidden replies",i)]),c.jsx("li",{className:"_a9yg",ref:a,children:c.jsxs(o("IGDSBox.react"),{direction:"row",marginBottom:e>0?4:0,marginTop:t?2:0,position:"relative",children:[c.jsxs(o("PolarisIGCoreButton"),{borderless:!0,onClick:function(){return n.$3(s)},children:[c.jsx("div",{className:"_a9yh"}),c.jsx("span",{className:"_a9yi",children:m})]}),r&&c.jsx("div",{className:"_a9yj",children:c.jsx(o("IGDSSpinner.react"),{size:"small"})})]})})},i.render=function(){var e=this,t=this.props,i=t.analyticsContext,r=t.code,a=t.commentingDisabledForViewer,s=t.customIndentationPadding,l=t.hideUserAvatar,d=t.innerRef,u=t.isPermalinkedComment,p=t.loggedIn,C=t.onDeleteCommentClick,h=t.onLikeCountClick,g=t.parentComment,I=t.permalinkedReply,P=t.permalinkedReplyAnimating,f=t.permalinkedReplyId,v=t.permalinkedReplyNodeRef,x=t.postId,k=t.postOwnerId,w=t.reducedAvatarMargin,_=t.showCommentOptionsInline,T=t.showRemoveIcon,y=t.totalChildCommentCount;t=t.visibleChildComments;var S=this.state.hasPermalinkedReplyBeenHidden,D=null;return I&&(!S||0!==t.count())&&(D=c.jsx("div",{className:"_a9yk"+(!0!==P||S?"":" _a9yl"),ref:v,children:c.jsx(m,{childComment:I,disableTimestampNav:!0,parentProps:this.props})})),P=t.map(function(t,n){return D&&o("nullthrows")(I).id===t.id?null:c.jsx(m,{childComment:t,parentProps:e.props},n)}).filter(function(e){return null!=e}),S=this.$4(P.count(),null!=D),v=null!=s?{margin:"12px 0 0 "+s+"px",width:"calc(100% - "+s+"px)"}:void 0,c.jsxs("ul",{className:"_a9ym",ref:d,children:[c.jsx(o("PolarisPostComment.react"),{analyticsContext:i,code:r,commentingDisabledForViewer:a,commentOwnerId:g.userId,commentThreadId:g.id,disableTimestampNav:!0===u&&null==f,giphyMediaInfo:g.giphyMediaInfo,hideUserAvatar:!!l,id:g.id,isAuthorVerified:g.isAuthorVerified,isCovered:g.isCovered,isPermalinkedComment:u,isRestrictedPending:g.isRestrictedPending,likeCount:g.likeCount,likedByViewer:g.likedByViewer,loggedIn:p,onDeleteCommentClick:C,onLikeCountClick:h,postedAt:g.postedAt,postId:x,postOwnerId:k,reducedAvatarMargin:w,showCommentOptionsInline:_,showRemoveIcon:T,showRichComment:!0,text:g.text,variant:n("PolarisPostVariants").VARIANTS.flexible}),0!==y&&c.jsx("li",{children:c.jsxs("ul",{className:"_a9yo",style:v,children:[D,S,P]})})]})},t}(c.Component),i={hideReplies:n("PolarisThreadedCommentActions").hideChildComments,loadChildComments:n("PolarisThreadedCommentActions").requestNextChildCommentPage,loadChildCommentsV2:n("PolarisThreadedCommentActions").requestNextChildCommentPageV2,
showReplies:n("PolarisThreadedCommentActions").showChildComments},s=n("PolarisReactRedux").connect(e,i)(t),a["default"]=s},98),__d("PolarisDeleteCommentModal.react",["fbt","IGCoreDialog","PolarisCommentActions","PolarisGenericStrings","PolarisLogger","PolarisReactRedux","react"],function(e,t,o,n,i,r,a,s){"use strict";function e(e){var t=e.analyticsContext,o=e.commentId,i=e.onClose,r=e.postId,a=n("PolarisReactRedux").useDispatch();return e=function(e){n("PolarisLogger").logAction("commentDelete",{source:t}),a(n("PolarisCommentActions").deleteComment(r,o)),i(e)},l.jsxs(n("IGCoreDialog").IGCoreDialog,{onModalClose:i,children:[l.jsx(n("IGCoreDialog").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:e,children:s._("Delete Comment")}),l.jsx(n("IGCoreDialog").IGCoreDialogItem,{onClick:i,children:n("PolarisGenericStrings").CANCEL_TEXT})]})}var l=n("react");e.displayName=e.name+" [from "+r.id+"]",a["default"]=e},98),__d("PolarisNoCommentsPlaceholder.react",["fbt","IGDSBox.react","IGDSText.react","react"],function(e,t,o,n,i,r,a,s){"use strict";function e(){var e=s._("No comments yet."),t=s._("Start the conversation.");return l.jsxs(o("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",children:[l.jsx(o("IGDSBox.react"),{marginBottom:2,children:l.jsx(o("IGDSText.react").Headline2,{textAlign:"center",children:e})}),l.jsx(o("IGDSBox.react"),{marginTop:2,children:l.jsx(o("IGDSText.react").Body,{textAlign:"center",children:t})})]})}var l=n("react");e.displayName=e.name+" [from "+r.id+"]",a["default"]=e},98),__d("PolarisPreviewComments.react",["cx","fbt","IGDSSpinner.react","PolarisBatchDOM","PolarisBigNumber.react","PolarisCommentActionConstants","PolarisCommentActions","PolarisIGCoreButton","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisNavigationActions","PolarisPostComment.react","PolarisPostVariants","PolarisReactRedux","PolarisUA","browserHistory","joinClasses","polarisCommentSelectors","polarisPostSelectors","react"],function(e,t,o,n,i,r,a,s,l){"use strict";function e(e,t){var o=n("polarisCommentSelectors").getPreviewCommentsForPostId(e,t.id);return t=n("polarisPostSelectors").getNumCommentsForPostId(e,t.id),{analyticsContext:e.navigation.pageIdentifier||"",commentSaveIsInFlight:!1,commentsHasNextPage:!1,commentsIsFetching:!1,commentsTotalCount:t,previewComments:o,viewportWidth:e.displayProperties.viewportWidth}}var m=n("react");t=function(e){function t(){for(var t,o,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=o=e.call.apply(e,[this].concat(r))||this,o.$2=function(e){var t=o.props,i=t.analyticsContext,r=t.code,a=t.id,s=t.loadMore,l=t.loggedIn,m=t.mediaType,c=t.onLoggedOutIntentClick,d=t.ownerId;t=t.variant;var u=n("PolarisUA").isMobile();e.preventDefault(),t===n("PolarisPostVariants").VARIANTS.feed||u?(e=n("PolarisLinkBuilder").buildMediaCommentsLink(r,u),l?(n("browserHistory").browserHistory.push(e),n("PolarisInteractionsLogger").logInteractionAction({containerModule:i,eventName:"instagram_organic_comment_view_all",mediaAuthorId:d,mediaId:a,mediaType:m})):c("post_comment_view_all")):(s(a,r),n("PolarisInteractionsLogger").logInteractionAction({containerModule:i,eventName:"instagram_organic_comment_view_more",mediaAuthorId:d,mediaId:a,mediaType:m}))},t||babelHelpers.assertThisInitialized(o)}babelHelpers.inheritsLoose(t,e);var i=t.prototype;return i.componentDidUpdate=function(e,t,o){var i=this,r=e.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight,a=this.$1;a&&n("PolarisBatchDOM").measure(function(){var t=a.scrollTop;r?t=a.scrollHeight:null!=o?t=a.scrollHeight-o:i.props.id!==e.id&&(t=0),n("PolarisBatchDOM").mutate(function(){a.scrollTop=t})})},i.getSnapshotBeforeUpdate=function(e){var t=e.comments,o=this.props.comments;return e.id===this.props.id&&o&&t&&o.count()>t.count()&&(e=this.$1)?e.scrollHeight-e.scrollTop:null},i.render=function(){var e=this,t=this.props,i=t.analyticsContext,r=t.captionAndTitle,a=t.captionIsEdited,s=t.className,l=t.commentsAreStacked,c=t.commentsDisabled,d=t.commentsHasNextPage,u=t.commentsTotalCount,p=t.handleDeleteCommentClick,C=t.id,h=t.loggedIn,g=t.mediaType,I=t.ownerId,P=t.postedAt,f=t.previewComments,v=t.showRemoveCommentIcons,x=t.variant;return t=!0!==c&&(!0===d||null!=f&&f.length<u),null!=r&&""!==r||0!==u||t?(d=f,m.jsx("div",{className:o("joinClasses")("_acri"+(n("PolarisUA").isMobile()||x!==n("PolarisPostVariants").VARIANTS.flexible||l?"":" _acrj"),s),ref:function(t){return e.$1=t},children:m.jsxs("ul",{className:"_acrk",children:[null!=r&&""!==r&&m.jsx(o("PolarisPostComment.react"),{analyticsContext:i,commentOwnerId:I,isCaption:!0,isEdited:!!a,isRestrictedPending:!1,loggedIn:h,mediaType:g,postedAt:P,postId:C,postOwnerId:I,showRemoveIcon:!1,text:r,variant:x},"captionAndTitle"),t&&this.renderLoadMoreCommentsLink(),!0!==c&&d&&d.map(function(e){return m.jsx(o("PolarisPostComment.react"),{analyticsContext:i,commentOwnerId:e.userId,id:e.id,isAuthorVerified:e.isAuthorVerified,isRestrictedPending:e.isRestrictedPending,likedByViewer:e.likedByViewer,loggedIn:h,mediaType:g,onDeleteCommentClick:p,postedAt:e.postedAt,postId:C,postOwnerId:I,showRemoveIcon:v,text:e.text,variant:x},e.id)})]})})):null},i.renderLoadMoreCommentsLink=function(){var e=this.props,t=e.comments,i=e.commentsIsFetching,r=e.commentsTotalCount;e=e.variant;var a=l._("Load more comments");return t=t&&t.count()+n("PolarisCommentActionConstants").PAGE_SIZE>=r||e===n("PolarisPostVariants").VARIANTS.feed||n("PolarisUA").isMobile()?l._("View all {count} comments",[l._param("count",m.jsx(o("PolarisBigNumber.react"),{value:r}))]):a,m.jsxs("li",{className:"_acrl",children:[m.jsx(o("PolarisIGCoreButton"),{borderless:!0,dangerouslySetClassName:{__className:"_acrm"},disabled:i,onClick:this.$2,children:t}),i&&m.jsx("div",{className:"_acrn",children:m.jsx(o("IGDSSpinner.react"),{position:"static",size:"small"})})]})},t}(m.PureComponent),i={onLoggedOutIntentClick:n("PolarisNavigationActions").openLoggedOutIntentDialog,loadMore:n("PolarisCommentActions").requestNextCommentPage},r=n("PolarisReactRedux").connect(e,i)(t),a["default"]=r},98),__d("PolarisThreadedCommentsLoadMoreButton.react",["fbt","IGDSBox.react","IGDSCircleAddPanoOutlineIcon","IGDSSpinner.react","PolarisIGCoreSVGIconButton","PolarisUA","react"],function(e,t,o,n,i,r,a,s){"use strict";function e(e){var t=function(t){var o=e.handleLoadMoreCommentsClick,i=e.loggedIn,r=e.onLoggedOutIntentClickLoginModal,a=e.url;t.preventDefault(),!i&&n("PolarisUA").isDesktop()?r(a,"post_comment_view_all"):o(a)};return l.jsxs(o("IGDSBox.react"),{justifyContent:"center",marginBottom:e.marginBottom,marginTop:e.marginTop,minHeight:40,position:"relative",children:[!e.commentsIsFetching&&l.jsx(o("PolarisIGCoreSVGIconButton"),{onClick:function(e){return t(e)},children:l.jsx(o("IGDSCircleAddPanoOutlineIcon"),{alt:m})}),e.commentsIsFetching&&l.jsx(o("IGDSSpinner.react"),{position:"absolute",size:"medium"})]})}var l=n("react"),m=s._("Load more comments");e.displayName=e.name+" [from "+r.id+"]",a["default"]=e},98),__d("PolarisThreadedComments.react",["cx","IGDSBox.react","IGDSSpinner.react","PolarisBatchDOM","PolarisCommentCover.react","PolarisCommentThread.react","PolarisConfig","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisNavigationActions","PolarisNoCommentsPlaceholder.react","PolarisPaginationUtils","PolarisPendingCommentState","PolarisPostComment.react","PolarisPostVariants","PolarisReactRedux","PolarisThreadedCommentActions","PolarisThreadedCommentSelectors","PolarisThreadedCommentsLoadMoreButton.react","PolarisUA","nullthrows","polarisCommentReducer","polarisIsUserLoggedIn","polarisRequestIdleCallback","polarisUserSelectors","qex","react"],function(e,t,o,n,i,r,a,s){"use strict";function l(e,t){var o=t.getBoundingClientRect().top;return o-=t.scrollTop,(t=e.getBoundingClientRect().top)-o}function m(e){var t=e.innerRef,n=e.isPermalinkedComment,i=e.onHidePermalinkReply,r=e.parentComment,a=e.parentProps,s=e.parentState,l=e.permalinkedReplyId,m=e.permalinkedReplyNodeRef;e=e.replyPagerNodeRef;var d=a.analyticsContext,u=a.code,p=a.commentingDisabledForViewer,C=a.customIndentationPadding,h=a.handleDeleteCommentClick,g=a.hideUserAvatar,I=a.id,P=a.isDeletingComments,f=a.loggedIn,v=a.onLikeCountClick,x=a.ownerId,k=a.reducedAvatarMargin;return a=a.showCommentOptionsInline,s=s.commentPermalinkAnimEnabled,c.jsx(o("PolarisCommentThread.react"),{analyticsContext:d,code:u,commentingDisabledForViewer:p,customIndentationPadding:C,hideUserAvatar:g,innerRef:t,isPermalinkedComment:n,loggedIn:f,onDeleteCommentClick:h,onHidePermalinkReply:i,onLikeCountClick:v,parentComment:r,permalinkedReplyAnimating:s,permalinkedReplyId:l,permalinkedReplyNodeRef:m,postId:I,postOwnerId:x,reducedAvatarMargin:k,replyPagerNodeRef:e,showCommentOptionsInline:a,showRemoveIcon:P})}function e(e,t){var o=t.id,i=t.ownerId;t=t.permalinkedCommentId;var r=n("PolarisThreadedCommentSelectors").getThreadedCommentsLoading(e,o),a=n("PolarisThreadedCommentSelectors").selectVisibleParentCommentsForPostId(e,o),s=e.threadedComments.parentByPostId.get(o,n("polarisCommentReducer").EMPTY_POST_COMMENTS_STATE),l=s.count;s=s.pagination,o=e.pendingComments.get(o,n("PolarisPendingCommentState").EMPTY_PENDING_COMMENT);var m=null;return!r&&null!=t&&""!==t&&(m=e.comments.byId.get(t)),{commentCoverSeenCounter:e.comments.commentCoverSeenCounter,commentWasReply:null!=o.repliedToCommentId,commentSaveIsInFlight:o.committing,comments:a,commentsHasNextPage:n("PolarisPaginationUtils").hasNextPage(s),commentsIsFetching:n("PolarisPaginationUtils").isFetching(s),commentsTotalCount:null!=l?l:0,hasCoveredComments:a.some(function(e){return!0===e.isCovered}),isOwnerVerified:n("polarisUserSelectors").getUserById(e,i).isVerified,initialCommentsLoading:r,permalinkedComment:m}}function t(e){return{loadMore:function(t,o,i){n("polarisIsUserLoggedIn").isUserLoggedIn()?e(n("PolarisThreadedCommentActions").requestNextParentCommentPageV2(t,o,i)):e(n("PolarisThreadedCommentActions").requestNextParentCommentPage(t,o,i))},onLoggedOutIntentClickLoginModal:function(t,o){e(n("PolarisNavigationActions").openLoginModal("feature_wall",t,o,null,!0,t))}}}var c=n("react"),d=o("qex")._("1193");m.displayName=m.name+" [from "+r.id+"]",i=function(e){function t(){for(var t,o,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=o=e.call.apply(e,[this].concat(r))||this,o.$2=c.createRef(),o.$3=c.createRef(),o.$4=c.createRef(),o.$5=[],o.state={isAutoscrollingCommentPermalink:!1,commentPermalinkAnimEnabled:!1,replyPermalinkLastHideTime:null,showHiddenComments:!1},o.$13=function(e){var t=(e=o.props).analyticsContext,i=e.code,r=e.hasRankedComments,a=e.id,s=e.loadMore,l=e.mediaType;e=e.ownerId,s(a,r,i),n("PolarisInteractionsLogger").logInteractionAction({containerModule:t,eventName:"instagram_child_comments_load_more",mediaAuthorId:e,mediaId:a,mediaType:l})},o.$14=function(){o.setState({showHiddenComments:!0})},t||babelHelpers.assertThisInitialized(o)}babelHelpers.inheritsLoose(t,e);var i=t.prototype;return i.$6=function(){return this.$2.current||null},i.$7=function(){return this.$3.current||null},i.$8=function(){return this.$4.current||null},i.$9=function(e,t,o,i){var r=this;this.setState({isAutoscrollingCommentPermalink:!0,commentPermalinkAnimEnabled:!1}),n("PolarisBatchDOM").measure(function(){var a,s=l(t,e);if(o){var m=l(o,e),c=o.getBoundingClientRect().height,d=e.getBoundingClientRect().height;d=Math.max(d-c,0),a=Math.max(s,m-d)}else a=s;n("PolarisBatchDOM").mutate(function(){e.scrollTop=a;var t=function(){r.setState({isAutoscrollingCommentPermalink:!1,commentPermalinkAnimEnabled:!0})};i?n("polarisRequestIdleCallback").requestIdleCallback(function(){t()}):t()})})},i.componentDidMount=function(){var e=this.$1;if(e){var t=this.$6();if(t)this.$9(e,t,this.$7(),!0);else if(!this.props.hasRankedComments){if(n("PolarisUA").isDesktop())return;e.scrollTop=e.scrollHeight}}},i.componentDidUpdate=function(e,t,o){var n=this.$1;if(n){var i=this.$6();if(i){if(this.state.isAutoscrollingCommentPermalink)return;if(this.props.permalinkedCommentId!==e.permalinkedCommentId||this.props.permalinkedReplyId!==e.permalinkedReplyId||this.props.permalinkedComment!==e.permalinkedComment)return void this.$9(n,i,this.$7(),!1)}this.$10(e,t,o,n,i)}},i.$10=function(e,t,o,i,r){var a=this,s=e.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight,l=(o=o||{}).newCommentCachedOffset,m=e.id===this.props.id&&e.permalinkedCommentId===this.props.permalinkedCommentId&&e.permalinkedReplyId===this.props.permalinkedReplyId&&t.replyPermalinkLastHideTime!==this.state.replyPermalinkLastHideTime,c=this.$8();s&&!e.commentWasReply&&this.$5[0]&&this.$5[0].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}),n("PolarisBatchDOM").measure(function(){var t=null;!s||e.commentWasReply||a.props.hasRankedComments?null!=l?t=i.scrollHeight-l:m&&r&&c&&(t=a.$11(i,r,c)):t=i.scrollHeight,n("PolarisBatchDOM").mutate(function(){null!=t&&(i.scrollTop=t)})})},i.$11=function(e,t,o){o=l(o,e),t=l(t,e);var n=6;return o=Math.max(o-n,t),e.scrollTop>o?o:null},i.getSnapshotBeforeUpdate=function(e,t){t=e.comments;var o=this.props.comments,n=this.$1;return n&&e.id===this.props.id&&o.count()>t.count()&&!this.props.hasRankedComments?{newCommentCachedOffset:n.scrollHeight-n.scrollTop}:null},i.$12=function(){this.setState({replyPermalinkLastHideTime:(new Date).valueOf()})},i.render=function(){var e=this,t=this.props,i=t.analyticsContext,r=t.captionAndTitle,a=t.captionCreatedAt,s=t.captionIsEdited,l=t.className,u=t.commentCoverSeenCounter,p=t.comments,C=t.commentsDisabled,h=t.commentsHasNextPage,g=t.disableScroll,I=t.hasCoveredComments,P=t.hasRankedComments,f=t.hideUserAvatar,v=t.id,x=t.initialCommentsLoading,k=t.isOwnerVerified,w=t.loggedIn,_=t.mediaType,T=t.ownerId,y=t.permalinkedComment,S=t.permalinkedReplyId,D=t.postedAt,A=t.reducedAvatarMargin,R=t.showCommentOptionsInline;if(t=t.showPagerBelowComments,h=!0!==C&&Boolean(h),x=x&&0===p.size,!(null!=r&&""!==r||0!==p.count()||h||x))return n("PolarisUA").isDesktop()?c.jsx("div",{className:l,children:c.jsx(o("PolarisNoCommentsPlaceholder.react"),{})}):c.jsx("div",{className:l});var b=null,L=null,j=null;return!x&&null!=C&&(b=y?c.jsx("div",{className:"_a9z3"+(this.state.commentPermalinkAnimEnabled&&!S?" _a9yl":""),ref:this.$2,children:c.jsx(m,{isPermalinkedComment:!0,onHidePermalinkReply:function(){return e.$12()},parentComment:y,parentProps:this.props,parentState:this.state,permalinkedReplyId:S,permalinkedReplyNodeRef:this.$3,replyPagerNodeRef:this.$4})}):null,L=p.map(function(t,o){return y&&t.id===y.id?null:!0===d&&!0===t.isCovered?null:c.jsx(m,{innerRef:function(t){return e.$5[o]=t},parentComment:t,parentProps:e.props,parentState:e.state},o)}).filter(function(e){return!!e}),j=p.filter(function(e){return!0===e.isCovered}).map(function(t,o){return c.jsx(m,{innerRef:function(t){return e.$5[o]=t},parentComment:t,parentProps:e.props,parentState:e.state},o)})),C=null,null!=r&&""!==r&&(C=c.jsx(o("PolarisPostComment.react"),{analyticsContext:i,captionCreatedAt:a,className:(n("PolarisUA").isMobile()?"_a9z4":"")+" _a9z5",commentOwnerId:T,hideUserAvatar:!!f,isAuthorVerified:!!k,isCaption:!0,isEdited:!!s,isRestrictedPending:!1,loggedIn:w,mediaType:_,postedAt:o("nullthrows")(D),postId:v,postOwnerId:T,reducedAvatarMargin:A,showCommentOptionsInline:R,showRemoveIcon:!1,showRichComment:!0,text:r,variant:n("PolarisPostVariants").VARIANTS.flexible},"captionAndTitle")),S=h&&this.renderLoadMoreCommentsLink(null!=b),p=P||!0===t,c.jsx("div",{className:l,children:c.jsxs("ul",{className:"_a9z6"+(g?" _a9z7":"")+(null!==b?" _a9z8":"")+(null===C?" _a9z9":"")+(!S||p?" _a9za":""),ref:function(t){return e.$1=t},children:[C,b,x?c.jsx(o("IGDSBox.react"),{direction:"row",justifyContent:"center",position:"relative",children:c.jsx(o("IGDSSpinner.react"),{})}):null,!p&&S,!n("PolarisConfig").isNetzDGEligible()&&L,p&&S,!0===d&&!S&&I&&!this.state.showHiddenComments&&c.jsx(o("PolarisCommentCover.react"),{nuxSeenCounter:u,onClick:this.$14,postId:v,postOwnerId:T}),!0===d&&this.state.showHiddenComments&&j]})})},i.renderLoadMoreCommentsLink=function(e){var t,i=this.props,r=i.code,a=i.commentsIsFetching,s=i.hasRankedComments,l=i.loggedIn;return i=i.onLoggedOutIntentClickLoginModal,r=n("PolarisLinkBuilder").buildMediaCommentsLink(o("nullthrows")(r),n("PolarisUA").isMobile()),s?(s=0,t=0):e?(s=2,t=2):(s=0,t=4),c.jsx("li",{children:c.jsx(o("PolarisThreadedCommentsLoadMoreButton.react"),{commentsIsFetching:a,handleLoadMoreCommentsClick:this.$13,loggedIn:l,marginBottom:t,marginTop:s,onLoggedOutIntentClickLoginModal:i,url:r})})},t}(c.PureComponent),s=n("PolarisReactRedux").connect(e,t)(i),a["default"]=s},98),__d("PolarisThreadedCommentsLoader.react",["CometPlaceholder.react","IGDSBox.react","IGDSSpinner.react","PolarisErrorBoundary.react","PolarisMonitorErrors","PolarisReactRedux","PolarisThreadedCommentActions","react","usePolarisGetQuerySetup"],function(e,t,o,n,i,r,a){"use strict";function s(e){var t=e.children,i=e.initialCommentsQuery;return e=e.postId,o("usePolarisGetQuerySetup")(i,n("PolarisThreadedCommentActions").setupPostComments(e)),t}function e(e){var t=e.children,i=e.initialCommentsQuery,r=e.postId,a=n("PolarisReactRedux").useDispatch();return e=function(e){a(n("PolarisThreadedCommentActions").initialCommentsError(r)),n("PolarisMonitorErrors").logError(e)},l.jsx(o("PolarisErrorBoundary.react"),{errorRenderer:function(){return null},onError:e,children:l.jsx(o("CometPlaceholder.react"),{fallback:l.jsx(o("IGDSBox.react"),{direction:"row",justifyContent:"center",position:"relative",children:l.jsx(o("IGDSSpinner.react"),{})}),children:l.jsx(s,{initialCommentsQuery:i,postId:r,children:t})})})}var l=n("react");s.displayName=s.name+" [from "+r.id+"]",e.displayName=e.name+" [from "+r.id+"]",a["default"]=e},98),__d("PolarisPostComments.react",["PolarisDeleteCommentModal.react","PolarisPostRemoveCommentsSelectors","PolarisPostVariants","PolarisPreviewComments.react","PolarisReactRedux","PolarisThreadedComments.react","PolarisThreadedCommentsLoader.react","PolarisUA","nullthrows","polarisUserSelectors","react"],function(e,t,o,n,i,r,a){"use strict";function e(e){return{showRemoveCommentIcons:n("PolarisPostRemoveCommentsSelectors").getPostRemoveCommentsIsVisible(e),viewerId:null==(e=n("polarisUserSelectors").getViewer(e))?void 0:e.id}}var s=n("react");(t=function(e){function t(){for(var t,o,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=o=e.call.apply(e,[this].concat(i))||this,o.state={commentToDeleteId:null,showDeleteCommentModal:!1},o.$1=function(e){o.setState({commentToDeleteId:e,showDeleteCommentModal:!0})},o.$2=function(){o.setState({commentToDeleteId:null,showDeleteCommentModal:!1})},t||babelHelpers.assertThisInitialized(o)}babelHelpers.inheritsLoose(t,e);var i=t.prototype;return i.$3=function(){return this.props.variant!==n("PolarisPostVariants").VARIANTS.feed&&!n("PolarisUA").isMobile()},i.render=function(){var e=this.props,t=e.analyticsContext,n=e.caption,i=e.captionCreatedAt,r=e.captionIsEdited,a=e.className,l=e.code,m=e.commentingDisabledForViewer,c=e.commentsAreStacked,d=e.commentsDisabled,u=e.customIndentationPadding,p=e.hasRankedComments,C=e.hideUserAvatar,h=e.id,g=e.initialCommentsQuery,I=e.mediaType,P=e.onLikeCountClick,f=e.ownerId,v=e.permalinkedCommentId,x=e.permalinkedReplyId,k=e.postedAt,w=e.reducedAvatarMargin,_=e.showCommentOptionsInline,T=e.showRemoveCommentIcons,y=e.variant;return e=null!=(e=e.viewerId),this.$3()?(i=s.jsx(o("PolarisThreadedComments.react"),{analyticsContext:t,captionAndTitle:n,captionCreatedAt:i,captionIsEdited:r,className:a,code:l,commentingDisabledForViewer:m,commentsDisabled:d,customIndentationPadding:u,handleDeleteCommentClick:this.$1,hasRankedComments:p,hideUserAvatar:!!C,id:h,isDeletingComments:T,loggedIn:e,mediaType:I,onLikeCountClick:P,ownerId:f,permalinkedCommentId:v,permalinkedReplyId:x,postedAt:k,reducedAvatarMargin:w,showCommentOptionsInline:_}),null!=g&&(i=s.jsx(o("PolarisThreadedCommentsLoader.react"),{initialCommentsQuery:g,postId:h,children:i}))):i=s.jsx(o("PolarisPreviewComments.react"),{captionAndTitle:n,captionIsEdited:r,className:a,code:l,commentsAreStacked:c,commentsDisabled:d,handleDeleteCommentClick:this.$1,id:h,loggedIn:e,mediaType:I,ownerId:f,postedAt:k,showRemoveCommentIcons:T,variant:y}),s.jsxs(s.Fragment,{children:[i,this.state.showDeleteCommentModal&&s.jsx(o("PolarisDeleteCommentModal.react"),{analyticsContext:t,commentId:o("nullthrows")(this.state.commentToDeleteId),onClose:this.$2,postId:h})]})},t}(s.PureComponent)).defaultProps={variant:n("PolarisPostVariants").VARIANTS.flexible},i=n("PolarisReactRedux").connect(e)(t),a["default"]=i},98);